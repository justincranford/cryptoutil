---
description: "Platform-specific tooling"
applyTo: "**"
---
# Cross Platform

## autoapprove Wrapper

Bypasses VS Code Copilot's hardcoded safety blockers for loopback network commands.

**Usage** (Local Chat Agent sessions only):

```bash
autoapprove curl https://127.0.0.1:9090/admin/v1/livez
autoapprove go test ./...
```

**Security**: Only allows loopback addresses (127.0.0.1, ::1, localhost)
**Logs**: Creates timestamped directories in `./test-output/autoapprove/`

## HTTP Commands

**Local Chat**: `autoapprove curl` | **GitHub Actions**: `curl` directly | **Docker healthchecks**: `wget`
**NEVER use `Invoke-WebRequest`** (blocked by VS Code)

## Cross-Platform Scripts

**Preference order**: Go > Python > (BANNED: PowerShell/Bash scripts)

**Go**: Cross-platform, complex logic, performance-critical, static compilation
**Python**: When Go not suitable, rapid prototyping, Python ecosystem integration

## Authorized Chat Session Commands

**Git**: `status`, `add`, `commit -m`, `log --oneline`, `diff`, `checkout`, `mv`
**Go**: `test`, `build`, `mod tidy`, `run`, `golangci-lint run`, `-fuzz`
**Docker**: `compose ps/logs/exec/build/up/down`, `inspect`, `ps`, `stats`
**File ops**: `pwd`, `ls -la`, `dir`, `mkdir`, `cat`, `type`, `head`, `tail`, `grep`

**Requires manual auth**: `cd`, `Set-Location`, network commands without autoapprove

## Docker Image Pre-Pull

Use `.github/actions/docker-images-pull` for parallel image downloads:

```yaml
- uses: ./.github/actions/docker-images-pull
  with:
    images: |
      postgres:18
      alpine:3.19
```

See [ARCHITECTURE.md Section 9.7 CI/CD Workflow Architecture](../../docs/ARCHITECTURE.md#97-cicd-workflow-architecture) for workflow optimization patterns including Docker image pre-pulling.

## PowerShell Notes

- Use `;` to chain commands (not `&&`)
- No `sed` - use `git diff` or `Get-Content | Select-String`
