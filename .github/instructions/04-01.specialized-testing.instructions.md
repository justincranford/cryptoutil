---
description: "Instructions for act workflow testing with cmd/workflow utility"
applyTo: "**"
---
# Act Workflow Testing Instructions

## CRITICAL: Use cmd/workflow Utility

**ALWAYS use `go run ./cmd/workflow` for running act workflows**

```bash
# Quick DAST scan (3-5 minutes)
go run ./cmd/workflow -workflows=dast -inputs="scan_profile=quick"

# Full DAST scan (10-15 minutes)
go run ./cmd/workflow -workflows=dast -inputs="scan_profile=full"

# Multiple workflows
go run ./cmd/workflow -workflows=e2e,dast

# Available workflows: e2e, dast, sast, robust, quality, load
```

## Timing Expectations

- **Quick profile**: 3-5 minutes (Nuclei + ZAP scans)
- **Full profile**: 10-15 minutes (comprehensive scanning)
- **Deep profile**: 20-25 minutes (exhaustive scanning)

## Common Mistakes to AVOID

 **NEVER**:
- Use `-t` timeout flag or check output too early
- `Start-Sleep -Seconds 60` (way too short for act workflows)
- `Get-Content -Wait` on log while scan runs (kills process)
- Run act commands directly without monitoring

 **ALWAYS**:
- Use `cmd/workflow` utility for automated monitoring
- Review generated workflow analysis markdown files
- Let utility complete before checking outputs
- Use appropriate scan profile for your needs

## Workflow Testing Patterns

### CI/CD Workflows (Prefer 127.0.0.1)

```bash
# Service connectivity verification in workflows
curl -skf https://127.0.0.1:8080/ui/swagger/doc.json
curl -skf https://127.0.0.1:8081/ui/swagger/doc.json
curl -skf https://127.0.0.1:8082/ui/swagger/doc.json
```

### Act Container Testing

- Act workflows run in Docker containers
- Use `127.0.0.1` for loopback addresses
- curl and wget are available in act containers
- Follow same patterns as GitHub Actions workflows
