---
description: "Instructions for Go project structure, architecture, and coding standards"
applyTo: "**"
---
# Go Project Standards - Tactical Guidance

**Reference**: See `.specify/memory/golang.md` for complete specifications (CGO ban rationale, project structure, import conventions, magic values organization)

**This file contains ONLY tactical implementation patterns**

## Quick Reference

**Go Version**: 1.25.5 (ALWAYS same everywhere: dev, CI/CD, Docker)
**CGO**: BANNED (CGO_ENABLED=0) except race detector
**Linking**: Static (`-extldflags '-static'`)
**Project Layout**: cmd, internal, pkg, api (avoid /src)

## CGO Ban - CRITICAL

```bash
# Detect CGO dependencies
go list -u -m all | grep '\[.*\]$'

# Use CGO-free alternatives
# ✅ modernc.org/sqlite
# ❌ github.com/mattn/go-sqlite3
```

**ONLY Exception**: Race detector (`-race`) requires CGO_ENABLED=1 (Go toolchain limitation)

## Import Aliases

`cryptoutil<Package>` for internal | `<vendor><Package>` for external | Crypto acronyms ALL CAPS (RSA, ECDSA, HMAC, JWK, ED25519)

## Magic Values Locations

- **Shared**: `internal/shared/magic/magic_*.go`
- **Domain-Specific**: `internal/<domain>/magic*.go`
