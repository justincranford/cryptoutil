?   	cryptoutil/api	[no test files]
	cryptoutil/api/authz		coverage: 0.0% of statements
?   	cryptoutil/api/ca	[no test files]
	cryptoutil/api/ca/models		coverage: 0.0% of statements
	cryptoutil/api/ca/server		coverage: 0.0% of statements
	cryptoutil/api/client		coverage: 0.0% of statements
?   	cryptoutil/api/identity	[no test files]
	cryptoutil/api/identity/authz		coverage: 0.0% of statements
	cryptoutil/api/identity/idp		coverage: 0.0% of statements
	cryptoutil/api/identity/rs		coverage: 0.0% of statements
	cryptoutil/api/idp		coverage: 0.0% of statements
?   	cryptoutil/api/jose	[no test files]
?   	cryptoutil/api/jose/models	[no test files]
	cryptoutil/api/jose/server		coverage: 0.0% of statements
	cryptoutil/api/model		coverage: 0.0% of statements
	cryptoutil/api/server		coverage: 0.0% of statements
	cryptoutil/cmd/ca-server		coverage: 0.0% of statements
	cryptoutil/cmd/cicd		coverage: 0.0% of statements
	cryptoutil/cmd/cryptoutil		coverage: 0.0% of statements
	cryptoutil/cmd/demo		coverage: 0.0% of statements
	cryptoutil/cmd/identity-compose		coverage: 0.0% of statements
	cryptoutil/cmd/identity-demo		coverage: 0.0% of statements
	cryptoutil/cmd/identity-unified		coverage: 0.0% of statements
	cryptoutil/cmd/jose-server		coverage: 0.0% of statements
	cryptoutil/cmd/workflow		coverage: 0.0% of statements
ok  	cryptoutil/internal/ca/api/handler	3.133s	coverage: 87.0% of statements
ok  	cryptoutil/internal/ca/bootstrap	0.803s	coverage: 80.8% of statements
ok  	cryptoutil/internal/ca/cli	7.144s	coverage: 79.6% of statements
ok  	cryptoutil/internal/ca/compliance	0.363s	coverage: 86.4% of statements
ok  	cryptoutil/internal/ca/config	0.761s	coverage: 87.2% of statements
ok  	cryptoutil/internal/ca/crypto	4.830s	coverage: 92.1% of statements
?   	cryptoutil/internal/ca/domain	[no test files]
ok  	cryptoutil/internal/ca/intermediate	0.901s	coverage: 80.0% of statements
?   	cryptoutil/internal/ca/magic	[no test files]
ok  	cryptoutil/internal/ca/observability	0.403s	coverage: 96.9% of statements
ok  	cryptoutil/internal/ca/profile/certificate	0.343s	coverage: 91.5% of statements
ok  	cryptoutil/internal/ca/profile/subject	0.387s	coverage: 85.8% of statements
ok  	cryptoutil/internal/ca/security	0.803s	coverage: 82.7% of statements
	cryptoutil/internal/ca/server		coverage: 0.0% of statements
	cryptoutil/internal/ca/server/cmd		coverage: 0.0% of statements
ok  	cryptoutil/internal/ca/server/middleware	0.444s	coverage: 84.5% of statements
ok  	cryptoutil/internal/ca/service/issuer	0.508s	coverage: 84.6% of statements
ok  	cryptoutil/internal/ca/service/ra	0.476s	coverage: 88.3% of statements
ok  	cryptoutil/internal/ca/service/revocation	0.383s	coverage: 83.5% of statements
ok  	cryptoutil/internal/ca/service/timestamp	0.506s	coverage: 84.6% of statements
ok  	cryptoutil/internal/ca/storage	0.420s	coverage: 89.9% of statements
ok  	cryptoutil/internal/cmd/cicd	0.442s	coverage: 51.5% of statements
ok  	cryptoutil/internal/cmd/cicd/adaptive-sim	0.827s	coverage: 63.0% of statements
ok  	cryptoutil/internal/cmd/cicd/common	0.760s	coverage: 100.0% of statements
ok  	cryptoutil/internal/cmd/cicd/format_go	0.678s	coverage: 52.9% of statements
ok  	cryptoutil/internal/cmd/cicd/format_gotest	0.658s	coverage: 81.4% of statements
ok  	cryptoutil/internal/cmd/cicd/identity_requirements_check	0.662s	coverage: 59.0% of statements
-test.shuffle 1765613408391145900
[CICD] start=2025-12-13T08:10:08.3929554Z operation=test
[CICD] dur=0s now=2025-12-13T08:10:08.3929554Z: Running Go linters...
[CICD] dur=0s now=2025-12-13T08:10:08.3929554Z: Running linter: circular-deps
[CICD] dur=0s now=2025-12-13T08:10:08.3929554Z: Checking for circular package dependencies...
[CICD] dur=600.3┬╡s now=2025-12-13T08:10:08.3935557Z: Error reading go.mod: GetFileAttributesEx go.mod: The system cannot find the file specified.
[CICD] dur=600.3┬╡s now=2025-12-13T08:10:08.3935557Z: lint-go completed with 1 errors
--- FAIL: TestLint (0.00s)
    --- FAIL: TestLint/success (0.00s)
        lint_go_test.go:120:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/cmd/cicd/lint_go/lint_go_test.go:120
            	Error:      	Received unexpected error:
            	            	lint-go failed with 1 errors
            	Test:       	TestLint/success
FAIL
coverage: 48.3% of statements
FAIL	cryptoutil/internal/cmd/cicd/lint_go	1.098s
ok  	cryptoutil/internal/cmd/cicd/lint_go_mod	0.411s	coverage: 43.2% of statements
ok  	cryptoutil/internal/cmd/cicd/lint_gotest	0.507s	coverage: 86.6% of statements
ok  	cryptoutil/internal/cmd/cicd/lint_text	0.482s	coverage: 97.3% of statements
ok  	cryptoutil/internal/cmd/cicd/lint_workflow	0.416s	coverage: 28.5% of statements
ok  	cryptoutil/internal/cmd/cryptoutil	2.100s	coverage: 18.8% of statements
	cryptoutil/internal/cmd/demo		coverage: 0.0% of statements
ok  	cryptoutil/internal/cmd/workflow	0.737s	coverage: 8.1% of statements
ok  	cryptoutil/internal/common/apperr	0.730s	coverage: 96.6% of statements
ok  	cryptoutil/internal/common/config	0.987s	coverage: 77.0% of statements
	cryptoutil/internal/common/container		coverage: 0.0% of statements
ok  	cryptoutil/internal/common/crypto/asn1	2.933s	coverage: 88.7% of statements
ok  	cryptoutil/internal/common/crypto/certificate	2.676s	coverage: 78.2% of statements
ok  	cryptoutil/internal/common/crypto/digests	1.297s	coverage: 97.7% of statements
ok  	cryptoutil/internal/common/crypto/keygen	44.986s	coverage: 85.2% of statements
ok  	cryptoutil/internal/common/crypto/keygenpooltest	5.754s	coverage: 0.0% of statements
	cryptoutil/internal/common/magic		coverage: 0.0% of statements
ok  	cryptoutil/internal/common/pool	1.570s	coverage: 62.1% of statements
ok  	cryptoutil/internal/common/telemetry	1.998s	coverage: 66.4% of statements
ok  	cryptoutil/internal/common/testutil	1.403s	coverage: 97.3% of statements
ok  	cryptoutil/internal/common/util	0.916s	coverage: 95.3% of statements
ok  	cryptoutil/internal/common/util/combinations	0.409s	coverage: 100.0% of statements
ok  	cryptoutil/internal/common/util/datetime	0.400s	coverage: 100.0% of statements
ok  	cryptoutil/internal/common/util/files	0.922s	coverage: 88.9% of statements
ok  	cryptoutil/internal/common/util/network	1.095s	coverage: 96.8% of statements
ok  	cryptoutil/internal/common/util/sysinfo	2.336s	coverage: 84.4% of statements
ok  	cryptoutil/internal/common/util/thread	0.641s	coverage: 100.0% of statements
ok  	cryptoutil/internal/crypto	7.832s	coverage: 94.4% of statements
ok  	cryptoutil/internal/identity/apperr	0.687s	coverage: 100.0% of statements
ok  	cryptoutil/internal/identity/authz	28.035s	coverage: 67.0% of statements
ok  	cryptoutil/internal/identity/authz/clientauth	30.369s	coverage: 79.4% of statements
ok  	cryptoutil/internal/identity/authz/e2e	5.158s	coverage: [no statements]
ok  	cryptoutil/internal/identity/authz/pkce	0.411s	coverage: 95.5% of statements
ok  	cryptoutil/internal/identity/authz/server	1.037s	coverage: 81.0% of statements
ok  	cryptoutil/internal/identity/bootstrap	5.939s	coverage: 81.3% of statements
	cryptoutil/internal/identity/cmd		coverage: 0.0% of statements
	cryptoutil/internal/identity/cmd/main		coverage: 0.0% of statements
	cryptoutil/internal/identity/cmd/main/authz		coverage: 0.0% of statements
ok  	cryptoutil/internal/identity/cmd/main/hardware-cred	0.418s	coverage: 19.3% of statements
	cryptoutil/internal/identity/cmd/main/idp		coverage: 0.0% of statements
	cryptoutil/internal/identity/cmd/main/rs		coverage: 0.0% of statements
	cryptoutil/internal/identity/cmd/main/spa-rp		coverage: 0.0% of statements
ok  	cryptoutil/internal/identity/config	0.478s	coverage: 95.2% of statements
ok  	cryptoutil/internal/identity/domain	0.686s	coverage: 98.6% of statements
ok  	cryptoutil/internal/identity/email	0.320s	coverage: 64.0% of statements
ok  	cryptoutil/internal/identity/healthcheck	3.397s	coverage: 85.3% of statements
ok  	cryptoutil/internal/identity/idp	29.191s	coverage: 65.4% of statements
ok  	cryptoutil/internal/identity/idp/auth	3.503s	coverage: 75.6% of statements
ok  	cryptoutil/internal/identity/idp/server	1.043s	coverage: 81.0% of statements
ok  	cryptoutil/internal/identity/idp/userauth	15.138s	coverage: 76.4% of statements
ok  	cryptoutil/internal/identity/idp/userauth/mocks	0.566s	coverage: 92.0% of statements
ok  	cryptoutil/internal/identity/integration	0.612s	coverage: [no statements] [no tests to run]
ok  	cryptoutil/internal/identity/issuer	13.839s	coverage: 88.9% of statements
ok  	cryptoutil/internal/identity/jobs	12.897s	coverage: 89.0% of statements
ok  	cryptoutil/internal/identity/jwks	2.347s	coverage: 85.0% of statements
?   	cryptoutil/internal/identity/magic	[no test files]
ok  	cryptoutil/internal/identity/mfa	12.876s	coverage: 87.2% of statements
ok  	cryptoutil/internal/identity/notifications	1.109s	coverage: 92.7% of statements
	cryptoutil/internal/identity/process		coverage: 0.0% of statements
ok  	cryptoutil/internal/identity/ratelimit	0.531s	coverage: 100.0% of statements
ok  	cryptoutil/internal/identity/repository	0.673s	coverage: 13.5% of statements
ok  	cryptoutil/internal/identity/repository/orm	6.407s	coverage: 62.3% of statements
ok  	cryptoutil/internal/identity/rotation	11.073s	coverage: 83.7% of statements
ok  	cryptoutil/internal/identity/rs	0.846s	coverage: 85.8% of statements
ok  	cryptoutil/internal/identity/rs/server	1.102s	coverage: 56.9% of statements
ok  	cryptoutil/internal/identity/security	0.585s	coverage: 100.0% of statements
	cryptoutil/internal/identity/server		coverage: 0.0% of statements
	cryptoutil/internal/identity/storage/fixtures		coverage: 0.0% of statements
ok  	cryptoutil/internal/identity/storage/tests	3.573s	coverage: [no statements]
ok  	cryptoutil/internal/identity/test/contract	0.677s	coverage: [no statements]
cryptoutil/internal/infra/tenant.test: open R:\temp\go-build2527989889\b1328\tenant.test.exe: Operation did not complete successfully because the file contains a virus or potentially unwanted software.
ok  	cryptoutil/internal/identity/test/integration	18.530s	coverage: [no statements]
ok  	cryptoutil/internal/identity/test/load	5.744s	coverage: [no statements]
	cryptoutil/internal/identity/test/testutils		coverage: 0.0% of statements
ok  	cryptoutil/internal/identity/test/unit	10.956s	coverage: [no statements]
ok  	cryptoutil/internal/infra/demo	0.384s	coverage: 81.8% of statements
ok  	cryptoutil/internal/infra/realm	11.522s	coverage: 85.8% of statements
FAIL	cryptoutil/internal/infra/tenant [build failed]
ok  	cryptoutil/internal/infra/tls	0.628s	coverage: 86.3% of statements
ok  	cryptoutil/internal/infra/tls/hsm	0.420s	coverage: 100.0% of statements
ok  	cryptoutil/internal/jose	116.035s	coverage: 84.0% of statements
ok  	cryptoutil/internal/jose/example	1.079s	coverage: [no statements]
time=2025-12-13T03:11:55.127-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=cryptoutil service.version=0.0.1 service.instance.id=f8535ae2-6643-48d6-9aec-190bf5f81de2 attempts=0 errors=<nil>
time=2025-12-13T03:11:55.165-05:00 level=INFO msg="Starting JOSE Authority Server" deployment.id=dev host.name=localhost service.name=cryptoutil service.version=0.0.1 service.instance.id=f8535ae2-6643-48d6-9aec-190bf5f81de2 address=127.0.0.1 port=60712
time=2025-12-13T03:11:55.349-05:00 level=INFO msg="JOSE Authority Server listening with TLS" deployment.id=dev host.name=localhost service.name=cryptoutil service.version=0.0.1 service.instance.id=f8535ae2-6643-48d6-9aec-190bf5f81de2 addr=127.0.0.1:60712

 ΓöîΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÉ
 Γöé               JOSE Authority Server               Γöé
 Γöé                  Fiber v2.52.10                   Γöé
 Γöé              https://127.0.0.1:60712              Γöé
 Γöé                                                   Γöé
 Γöé Handlers ............ 22  Processes ........... 1 Γöé
 Γöé Prefork ....... Disabled  PID ............. 19784 Γöé
 ΓööΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÿ

-test.shuffle 1765613515566463100
--- FAIL: TestJWKDeleteSuccess (0.01s)
    server_test.go:778:
        	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
        	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:778
        	Error:      	Received unexpected error:
        	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
        	Test:       	TestJWKDeleteSuccess
time=2025-12-13T03:11:57.538-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=cryptoutil service.version=0.0.1 service.instance.id=c7638b0b-a51c-45e9-9fb9-bdb8c92f25e4 attempts=0 errors=<nil>
time=2025-12-13T03:11:57.540-05:00 level=INFO msg="Starting JOSE Authority Server" deployment.id=dev host.name=localhost service.name=cryptoutil service.version=0.0.1 service.instance.id=c7638b0b-a51c-45e9-9fb9-bdb8c92f25e4 address=127.0.0.1 port=60718
time=2025-12-13T03:11:57.544-05:00 level=INFO msg="JOSE Authority Server listening with TLS" deployment.id=dev host.name=localhost service.name=cryptoutil service.version=0.0.1 service.instance.id=c7638b0b-a51c-45e9-9fb9-bdb8c92f25e4 addr=127.0.0.1:60718
time=2025-12-13T03:11:57.544-05:00 level=INFO msg="Shutting down JOSE Authority Server" deployment.id=dev host.name=localhost service.name=cryptoutil service.version=0.0.1 service.instance.id=c7638b0b-a51c-45e9-9fb9-bdb8c92f25e4

 ΓöîΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÉ
 Γöé               JOSE Authority Server               Γöé
 Γöé                  Fiber v2.52.10                   Γöé
 Γöé              https://127.0.0.1:60718              Γöé
 Γöé                                                   Γöé
 Γöé Handlers ............ 22  Processes ........... 1 Γöé
 Γöé Prefork ....... Disabled  PID ............. 19784 Γöé
 ΓööΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÿ

--- FAIL: TestJWKDeleteNotFound (0.18s)
    server_test.go:267:
        	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:118
        	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:267
        	Error:      	Received unexpected error:
        	            	Delete "http://127.0.0.1:60712/jose/v1/jwk/nonexistent-kid/delete": EOF
        	Test:       	TestJWKDeleteNotFound
--- FAIL: TestJWTCreateMissingKID (0.21s)
    server_test.go:690:
        	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
        	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:690
        	Error:      	Received unexpected error:
        	            	Post "http://127.0.0.1:60712/jose/v1/jwt/sign": EOF
        	Test:       	TestJWTCreateMissingKID
--- FAIL: TestJWSVerifyKeyNotFound (0.20s)
    server_test.go:583:
        	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
        	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:583
        	Error:      	Received unexpected error:
        	            	Post "http://127.0.0.1:60712/jose/v1/jws/verify": EOF
        	Test:       	TestJWSVerifyKeyNotFound
--- FAIL: TestJWSVerifyMissingJWS (0.20s)
    server_test.go:568:
        	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
        	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:568
        	Error:      	Received unexpected error:
        	            	Post "http://127.0.0.1:60712/jose/v1/jws/verify": EOF
        	Test:       	TestJWSVerifyMissingJWS
--- FAIL: TestJWTCreateMissingClaims (0.51s)
    server_test.go:705:
        	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
        	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:705
        	Error:      	Received unexpected error:
        	            	Post "http://127.0.0.1:60712/jose/v1/jwt/sign": EOF
        	Test:       	TestJWTCreateMissingClaims
--- FAIL: TestJWSSignAndVerify (0.51s)
    server_test.go:299:
        	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
        	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:299
        	Error:      	Received unexpected error:
        	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
        	Test:       	TestJWSSignAndVerify
--- FAIL: TestJWEDecryptMissingJWE (0.96s)
    server_test.go:643:
        	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
        	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:643
        	Error:      	Received unexpected error:
        	            	Post "http://127.0.0.1:60712/jose/v1/jwe/decrypt": EOF
        	Test:       	TestJWEDecryptMissingJWE
--- FAIL: TestJWEEncryptKeyNotFound (1.91s)
    server_test.go:628:
        	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
        	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:628
        	Error:      	Received unexpected error:
        	            	Post "http://127.0.0.1:60712/jose/v1/jwe/encrypt": EOF
        	Test:       	TestJWEEncryptKeyNotFound
--- FAIL: TestWellKnownJWKS (2.48s)
    server_test.go:500:
        	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:86
        	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:500
        	Error:      	Received unexpected error:
        	            	Get "http://127.0.0.1:60712/.well-known/jwks.json": EOF
        	Test:       	TestWellKnownJWKS
--- FAIL: TestHealthJSON (2.26s)
    server_test.go:164:
        	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:86
        	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:164
        	Error:      	Received unexpected error:
        	            	Get "http://127.0.0.1:60712/health": EOF
        	Test:       	TestHealthJSON
--- FAIL: TestJWKGetNotFound (2.73s)
    server_test.go:258:
        	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:86
        	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:258
        	Error:      	Received unexpected error:
        	            	Get "http://127.0.0.1:60712/jose/v1/jwk/nonexistent-kid": EOF
        	Test:       	TestJWKGetNotFound
--- FAIL: TestJWKList (2.69s)
    server_test.go:276:
        	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:86
        	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:276
        	Error:      	Received unexpected error:
        	            	Get "http://127.0.0.1:60712/jose/v1/jwk": EOF
        	Test:       	TestJWKList
--- FAIL: TestJWEDecryptMissingKID (3.15s)
    server_test.go:658:
        	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
        	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:658
        	Error:      	Received unexpected error:
        	            	Post "http://127.0.0.1:60712/jose/v1/jwe/decrypt": EOF
        	Test:       	TestJWEDecryptMissingKID
--- FAIL: TestHealthEndpoints (0.00s)
    --- FAIL: TestHealthEndpoints/livez (0.18s)
        server_test.go:150:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:86
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:150
            	Error:      	Received unexpected error:
            	            	Get "http://127.0.0.1:60712/livez": EOF
            	Test:       	TestHealthEndpoints/livez
    --- FAIL: TestHealthEndpoints/readyz (3.04s)
        server_test.go:150:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:86
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:150
            	Error:      	Received unexpected error:
            	            	Get "http://127.0.0.1:60712/readyz": EOF
            	Test:       	TestHealthEndpoints/readyz
--- FAIL: TestJWKGetMissingKID (2.30s)
    server_test.go:761:
        	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:86
        	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:761
        	Error:      	Received unexpected error:
        	            	Get "http://127.0.0.1:60712/jose/v1/jwk": EOF
        	Test:       	TestJWKGetMissingKID
--- FAIL: TestJWEDecryptKeyNotFound (0.96s)
    server_test.go:673:
        	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
        	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:673
        	Error:      	Received unexpected error:
        	            	Post "http://127.0.0.1:60712/jose/v1/jwe/decrypt": EOF
        	Test:       	TestJWEDecryptKeyNotFound
time=2025-12-13T03:12:09.841-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=cryptoutil service.version=0.0.1 service.instance.id=8a307ca8-a52f-45d3-afcb-857a59d71e23 attempts=0 errors=<nil>
time=2025-12-13T03:12:09.842-05:00 level=INFO msg="Starting JOSE Authority Server" deployment.id=dev host.name=localhost service.name=cryptoutil service.version=0.0.1 service.instance.id=8a307ca8-a52f-45d3-afcb-857a59d71e23 address=127.0.0.1 port=60751
time=2025-12-13T03:12:09.847-05:00 level=INFO msg="JOSE Authority Server listening with TLS" deployment.id=dev host.name=localhost service.name=cryptoutil service.version=0.0.1 service.instance.id=8a307ca8-a52f-45d3-afcb-857a59d71e23 addr=127.0.0.1:60751

 ΓöîΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÉ
 Γöé               JOSE Authority Server               Γöé
 Γöé                  Fiber v2.52.10                   Γöé
 Γöé              https://127.0.0.1:60751              Γöé
 Γöé                                                   Γöé
 Γöé Handlers ............ 22  Processes ........... 1 Γöé
 Γöé Prefork ....... Disabled  PID ............. 19784 Γöé
 ΓööΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÿ

time=2025-12-13T03:12:09.889-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=cryptoutil service.version=0.0.1 service.instance.id=d867e987-359f-4fbd-b9de-4a205f9d97b3 attempts=0 errors=<nil>
--- FAIL: TestJWSSignKeyNotFound (0.01s)
    server_test.go:554:
        	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
        	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:554
        	Error:      	Received unexpected error:
        	            	Post "http://127.0.0.1:60712/jose/v1/jws/sign": EOF
        	Test:       	TestJWSSignKeyNotFound
--- FAIL: TestJWTVerifyMissingJWT (4.15s)
    server_test.go:736:
        	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
        	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:736
        	Error:      	Received unexpected error:
        	            	Post "http://127.0.0.1:60712/jose/v1/jwt/verify": EOF
        	Test:       	TestJWTVerifyMissingJWT
--- FAIL: TestJWTVerifyKeyNotFound (0.00s)
    server_test.go:751:
        	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
        	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:751
        	Error:      	Received unexpected error:
        	            	Post "http://127.0.0.1:60712/jose/v1/jwt/verify": EOF
        	Test:       	TestJWTVerifyKeyNotFound
--- FAIL: TestJWTCreateAndVerify (0.01s)
    server_test.go:444:
        	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
        	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:444
        	Error:      	Received unexpected error:
        	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
        	Test:       	TestJWTCreateAndVerify
--- FAIL: TestJWTCreateKeyNotFound (0.01s)
    server_test.go:722:
        	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
        	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:722
        	Error:      	Received unexpected error:
        	            	Post "http://127.0.0.1:60712/jose/v1/jwt/sign": EOF
        	Test:       	TestJWTCreateKeyNotFound
--- FAIL: TestJWKGenerateInvalidAlgorithm (0.01s)
    server_test.go:249:
        	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
        	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:249
        	Error:      	Received unexpected error:
        	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
        	Test:       	TestJWKGenerateInvalidAlgorithm
--- FAIL: TestJWSSignMissingKID (0.01s)
    server_test.go:524:
        	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
        	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:524
        	Error:      	Received unexpected error:
        	            	Post "http://127.0.0.1:60712/jose/v1/jws/sign": EOF
        	Test:       	TestJWSSignMissingKID
--- FAIL: TestJWTVerifyErrorPaths (0.00s)
    --- FAIL: TestJWTVerifyErrorPaths/MissingJWT (0.88s)
        server_test.go:955:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:955
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwt/verify": EOF
            	Test:       	TestJWTVerifyErrorPaths/MissingJWT
    --- FAIL: TestJWTVerifyErrorPaths/VerifyWithoutKID (0.01s)
        server_test.go:1022:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:1022
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
            	Test:       	TestJWTVerifyErrorPaths/VerifyWithoutKID
    --- FAIL: TestJWTVerifyErrorPaths/KeyNotFound (0.00s)
        server_test.go:970:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:970
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwt/verify": EOF
            	Test:       	TestJWTVerifyErrorPaths/KeyNotFound
    --- FAIL: TestJWTVerifyErrorPaths/InvalidJWTFormat (0.01s)
        server_test.go:986:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:986
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
            	Test:       	TestJWTVerifyErrorPaths/InvalidJWTFormat
time=2025-12-13T03:12:09.994-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=cryptoutil service.version=0.0.1 service.instance.id=5d4dd04c-566a-4661-bfe8-f1812e720e5a attempts=0 errors=<nil>
time=2025-12-13T03:12:09.998-05:00 level=INFO msg="Context cancelled, shutting down server" deployment.id=dev host.name=localhost service.name=cryptoutil service.version=0.0.1 service.instance.id=8a307ca8-a52f-45d3-afcb-857a59d71e23
time=2025-12-13T03:12:10.002-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=cryptoutil service.version=0.0.1 service.instance.id=aa4a4a44-cd19-4a92-8d0f-605805547128 attempts=0 errors=<nil>
time=2025-12-13T03:12:10.004-05:00 level=INFO msg="Shutting down JOSE Authority Server" deployment.id=dev host.name=localhost service.name=cryptoutil service.version=0.0.1 service.instance.id=aa4a4a44-cd19-4a92-8d0f-605805547128
time=2025-12-13T03:12:10.016-05:00 level=INFO msg="Starting JOSE Authority Server" deployment.id=dev host.name=localhost service.name=cryptoutil service.version=0.0.1 service.instance.id=5d4dd04c-566a-4661-bfe8-f1812e720e5a address=127.0.0.1 port=60767
time=2025-12-13T03:12:10.022-05:00 level=INFO msg="JOSE Authority Server listening with TLS" deployment.id=dev host.name=localhost service.name=cryptoutil service.version=0.0.1 service.instance.id=5d4dd04c-566a-4661-bfe8-f1812e720e5a addr=127.0.0.1:60767

 ΓöîΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÉ
 Γöé               JOSE Authority Server               Γöé
 Γöé                  Fiber v2.52.10                   Γöé
 Γöé              https://127.0.0.1:60767              Γöé
 Γöé                                                   Γöé
 Γöé Handlers ............ 22  Processes ........... 1 Γöé
 Γöé Prefork ....... Disabled  PID ............. 19784 Γöé
 ΓööΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÿ

--- FAIL: TestJWSSignMissingPayload (3.40s)
    server_test.go:539:
        	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
        	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:539
        	Error:      	Received unexpected error:
        	            	Post "http://127.0.0.1:60712/jose/v1/jws/sign": EOF
        	Test:       	TestJWSSignMissingPayload
--- FAIL: TestJWKGenerateAndRetrieve (0.00s)
    --- FAIL: TestJWKGenerateAndRetrieve/RSA4096 (0.20s)
        server_test.go:211:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:211
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
            	Test:       	TestJWKGenerateAndRetrieve/RSA4096
    --- FAIL: TestJWKGenerateAndRetrieve/Oct128 (3.02s)
        server_test.go:211:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:211
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
            	Test:       	TestJWKGenerateAndRetrieve/Oct128
    --- FAIL: TestJWKGenerateAndRetrieve/Oct192 (3.17s)
        server_test.go:211:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:211
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
            	Test:       	TestJWKGenerateAndRetrieve/Oct192
    --- FAIL: TestJWKGenerateAndRetrieve/Oct256 (3.00s)
        server_test.go:211:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:211
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
            	Test:       	TestJWKGenerateAndRetrieve/Oct256
    --- FAIL: TestJWKGenerateAndRetrieve/Oct384 (2.93s)
        server_test.go:211:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:211
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
            	Test:       	TestJWKGenerateAndRetrieve/Oct384
    --- FAIL: TestJWKGenerateAndRetrieve/RSA3072 (2.52s)
        server_test.go:211:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:211
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
            	Test:       	TestJWKGenerateAndRetrieve/RSA3072
    --- FAIL: TestJWKGenerateAndRetrieve/OKPEd25519 (5.39s)
        server_test.go:211:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:211
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
            	Test:       	TestJWKGenerateAndRetrieve/OKPEd25519
    --- FAIL: TestJWKGenerateAndRetrieve/Oct512 (6.00s)
        server_test.go:211:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:211
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
            	Test:       	TestJWKGenerateAndRetrieve/Oct512
    --- FAIL: TestJWKGenerateAndRetrieve/ECP521 (6.22s)
        server_test.go:211:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:211
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
            	Test:       	TestJWKGenerateAndRetrieve/ECP521
    --- FAIL: TestJWKGenerateAndRetrieve/ECP256 (7.42s)
        server_test.go:211:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:211
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
            	Test:       	TestJWKGenerateAndRetrieve/ECP256
    --- FAIL: TestJWKGenerateAndRetrieve/RSA2048 (7.05s)
        server_test.go:211:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:211
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
            	Test:       	TestJWKGenerateAndRetrieve/RSA2048
    --- FAIL: TestJWKGenerateAndRetrieve/ECP384 (7.99s)
        server_test.go:211:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:211
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
            	Test:       	TestJWKGenerateAndRetrieve/ECP384
time=2025-12-13T03:12:10.188-05:00 level=INFO msg="Shutting down JOSE Authority Server" deployment.id=dev host.name=localhost service.name=cryptoutil service.version=0.0.1 service.instance.id=5d4dd04c-566a-4661-bfe8-f1812e720e5a
--- FAIL: TestJWEEncryptAndDecrypt (0.00s)
    --- FAIL: TestJWEEncryptAndDecrypt/Oct512 (0.00s)
        server_test.go:381:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:381
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
            	Test:       	TestJWEEncryptAndDecrypt/Oct512
    --- FAIL: TestJWEEncryptAndDecrypt/ECP256 (0.00s)
        server_test.go:381:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:381
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
            	Test:       	TestJWEEncryptAndDecrypt/ECP256
    --- FAIL: TestJWEEncryptAndDecrypt/ECP384 (0.00s)
        server_test.go:381:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:381
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
            	Test:       	TestJWEEncryptAndDecrypt/ECP384
    --- FAIL: TestJWEEncryptAndDecrypt/ECP521 (0.00s)
        server_test.go:381:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:381
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
            	Test:       	TestJWEEncryptAndDecrypt/ECP521
    --- FAIL: TestJWEEncryptAndDecrypt/RSA2048 (0.00s)
        server_test.go:381:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:381
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
            	Test:       	TestJWEEncryptAndDecrypt/RSA2048
    --- FAIL: TestJWEEncryptAndDecrypt/RSA3072 (0.00s)
        server_test.go:381:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:381
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
            	Test:       	TestJWEEncryptAndDecrypt/RSA3072
    --- FAIL: TestJWEEncryptAndDecrypt/RSA4096 (0.00s)
        server_test.go:381:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:381
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
            	Test:       	TestJWEEncryptAndDecrypt/RSA4096
    --- FAIL: TestJWEEncryptAndDecrypt/Oct128 (0.00s)
        server_test.go:381:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:381
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
            	Test:       	TestJWEEncryptAndDecrypt/Oct128
    --- FAIL: TestJWEEncryptAndDecrypt/Oct192 (0.07s)
        server_test.go:381:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:381
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
            	Test:       	TestJWEEncryptAndDecrypt/Oct192
    --- FAIL: TestJWEEncryptAndDecrypt/Oct256 (0.00s)
        server_test.go:381:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:381
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
            	Test:       	TestJWEEncryptAndDecrypt/Oct256
    --- FAIL: TestJWEEncryptAndDecrypt/Oct384 (0.01s)
        server_test.go:381:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:381
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
            	Test:       	TestJWEEncryptAndDecrypt/Oct384
--- FAIL: TestInvalidJSONBody (0.00s)
    --- FAIL: TestInvalidJSONBody/generate (1.33s)
        server_test.go:821:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:821
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
            	Test:       	TestInvalidJSONBody/generate
    --- FAIL: TestInvalidJSONBody/jwtVerify (0.05s)
        server_test.go:821:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:821
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwt/verify": EOF
            	Test:       	TestInvalidJSONBody/jwtVerify
    --- FAIL: TestInvalidJSONBody/jwtCreate (0.02s)
        server_test.go:821:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:821
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwt/sign": EOF
            	Test:       	TestInvalidJSONBody/jwtCreate
    --- FAIL: TestInvalidJSONBody/encrypt (0.01s)
        server_test.go:821:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:821
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwe/encrypt": EOF
            	Test:       	TestInvalidJSONBody/encrypt
    --- FAIL: TestInvalidJSONBody/decrypt (0.01s)
        server_test.go:821:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:821
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwe/decrypt": EOF
            	Test:       	TestInvalidJSONBody/decrypt
    --- FAIL: TestInvalidJSONBody/sign (1.41s)
        server_test.go:821:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:821
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jws/sign": EOF
            	Test:       	TestInvalidJSONBody/sign
    --- FAIL: TestInvalidJSONBody/verify (8.03s)
        server_test.go:821:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:821
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jws/verify": EOF
            	Test:       	TestInvalidJSONBody/verify
--- FAIL: TestJWEEncryptMissingPlaintext (11.23s)
    server_test.go:613:
        	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
        	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:613
        	Error:      	Received unexpected error:
        	            	Post "http://127.0.0.1:60712/jose/v1/jwe/encrypt": EOF
        	Test:       	TestJWEEncryptMissingPlaintext
--- FAIL: TestJWEEncryptMissingKID (13.86s)
    server_test.go:598:
        	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
        	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:598
        	Error:      	Received unexpected error:
        	            	Post "http://127.0.0.1:60712/jose/v1/jwe/encrypt": EOF
        	Test:       	TestJWEEncryptMissingKID
time=2025-12-13T03:12:22.703-05:00 level=ERROR msg="logs provider force flush failed" deployment.id=dev host.name=localhost service.name=cryptoutil service.version=0.0.1 service.instance.id=5d4dd04c-566a-4661-bfe8-f1812e720e5a error="logs provider force flush error: context deadline exceeded"
--- FAIL: TestJWSVerifyErrorPaths (0.00s)
    --- FAIL: TestJWSVerifyErrorPaths/InvalidSignature (0.00s)
        server_test.go:870:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:870
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
            	Test:       	TestJWSVerifyErrorPaths/InvalidSignature
    --- FAIL: TestJWSVerifyErrorPaths/MissingJWS (0.73s)
        server_test.go:839:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:839
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jws/verify": EOF
            	Test:       	TestJWSVerifyErrorPaths/MissingJWS
    --- FAIL: TestJWSVerifyErrorPaths/KeyNotFound (2.65s)
        server_test.go:854:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:854
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jws/verify": EOF
            	Test:       	TestJWSVerifyErrorPaths/KeyNotFound
    --- FAIL: TestJWSVerifyErrorPaths/VerifyWithoutKID (29.81s)
        server_test.go:905:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:103
            	            				C:/Dev/Projects/cryptoutil/internal/jose/server/server_test.go:905
            	Error:      	Received unexpected error:
            	            	Post "http://127.0.0.1:60712/jose/v1/jwk/generate": EOF
            	Test:       	TestJWSVerifyErrorPaths/VerifyWithoutKID
FAIL
coverage: 34.4% of statements
time=2025-12-13T03:12:40.972-05:00 level=INFO msg="Shutting down JOSE Authority Server" deployment.id=dev host.name=localhost service.name=cryptoutil service.version=0.0.1 service.instance.id=f8535ae2-6643-48d6-9aec-190bf5f81de2
FAIL	cryptoutil/internal/jose/server	49.947s
	cryptoutil/internal/jose/server/cmd		coverage: 0.0% of statements
ok  	cryptoutil/internal/jose/server/middleware	0.662s	coverage: 97.8% of statements
ok  	cryptoutil/internal/kms/client	69.057s	coverage: 74.9% of statements
	cryptoutil/internal/kms/cmd		coverage: 0.0% of statements
time=2025-12-13T03:12:37.315-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497
time=2025-12-13T03:12:37.324-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 attempts=0 errors=<nil>
time=2025-12-13T03:12:37.324-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497
time=2025-12-13T03:12:37.325-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497
time=2025-12-13T03:12:37.325-05:00 level=DEBUG msg="Generated random unseal secret for dev mode" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 length=32
time=2025-12-13T03:12:37.326-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497
time=2025-12-13T03:12:37.326-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497
time=2025-12-13T03:12:37.326-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:12:37.337-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:12:37.337-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497
time=2025-12-13T03:12:37.337-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 driver=sqlite
time=2025-12-13T03:12:37.360-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497
time=2025-12-13T03:12:37.360-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497
SQLite Schema:
Table: schema_migrations
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: barrier_content_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:12:37.428-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 txID=019b16c4-d6b3-705e-9a84-e5307985d63b mode=ReadWrite

2025/12/13 03:12:37 [31;1mC:/Dev/Projects/cryptoutil/internal/kms/server/repository/orm/barrier_entities_operations.go:34 [35;1mrecord not found
[0m[33m[5.567ms] [34;1m[rows:0][0m SELECT * FROM `barrier_root_keys` ORDER BY uuid DESC,`barrier_root_keys`.`uuid` LIMIT 1
time=2025-12-13T03:12:37.434-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 txID=019b16c4-d6b3-705e-9a84-e5307985d63b mode=0xc000065f50
2025/12/13 03:12:37 DEBUG initializeFirstRootJWK: err=<nil>, isRecordNotFound=false, encryptedRootKeyLatest=<nil>
2025/12/13 03:12:37 DEBUG initializeFirstRootJWK: Creating first root JWK
2025/12/13 03:12:37 DEBUG initializeFirstRootJWK: Generated JWK with kid=019b16c4-d6b3-705f-8853-be50e72959a4
2025/12/13 03:12:37 DEBUG initializeFirstRootJWK: Encrypted root JWK, len=485
time=2025-12-13T03:12:37.435-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 txID=019b16c4-d6b3-7060-8ef7-2023608757bd mode=ReadWrite
time=2025-12-13T03:12:37.435-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 txID=019b16c4-d6b3-7060-8ef7-2023608757bd mode=0xc000478250
2025/12/13 03:12:37 DEBUG initializeFirstRootJWK: Successfully created first root JWK
time=2025-12-13T03:12:37.435-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 txID=019b16c4-d6b3-7061-841a-671db2346feb mode=ReadWrite

2025/12/13 03:12:37 [31;1mC:/Dev/Projects/cryptoutil/internal/kms/server/repository/orm/barrier_entities_operations.go:80 [35;1mrecord not found
[0m[33m[0.998ms] [34;1m[rows:0][0m SELECT * FROM `barrier_intermediate_keys` ORDER BY uuid DESC,`barrier_intermediate_keys`.`uuid` LIMIT 1
time=2025-12-13T03:12:37.436-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 txID=019b16c4-d6b3-7061-841a-671db2346feb mode=0xc0004783d0
2025/12/13 03:12:37 DEBUG initializeFirstIntermediateJWK: err=<nil>, isRecordNotFound=false, encryptedIntermediateKeyLatest=<nil>
2025/12/13 03:12:37 DEBUG initializeFirstIntermediateJWK: Creating first intermediate JWK
2025/12/13 03:12:37 DEBUG initializeFirstIntermediateJWK: Generated JWK with kid=019b16c4-d6b3-7062-8bb2-622f61dff6ca
time=2025-12-13T03:12:37.436-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 txID=019b16c4-d6b3-7063-b329-2661fc56845c mode=ReadWrite
2025/12/13 03:12:37 DEBUG initializeFirstIntermediateJWK: Encrypted intermediate JWK, len=427, rootKeyKid=019b16c4-d6b3-705f-8853-be50e72959a4
2025/12/13 03:12:37 DEBUG initializeFirstIntermediateJWK: Successfully stored first intermediate JWK
time=2025-12-13T03:12:37.437-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 txID=019b16c4-d6b3-7063-b329-2661fc56845c mode=0xc000478610
2025/12/13 03:12:37 DEBUG initializeFirstIntermediateJWK: Successfully created first intermediate JWK
time=2025-12-13T03:12:42.769-05:00 level=DEBUG msg="Active browser security header policy" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 component=security-headers referrer_policy=strict-origin-when-cross-origin permissions_policy="camera=(), microphone=(), geolocation=(), payment=(), usb=(), accelerometer=(), gyroscope=(), magnetometer=()" isolation_enabled=true hsts_preload=false clear_site_data_logout=true
time=2025-12-13T03:12:44.577-05:00 level=INFO msg="assigned ports" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 public=60815 private=60816
2025/12/13 03:12:44 Checking if server is ready https://127.0.0.1:60816
time=2025-12-13T03:12:46.690-05:00 level=DEBUG msg="starting fiber listeners with pre-created listeners" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497
time=2025-12-13T03:12:47.893-05:00 level=INFO msg="starting public fiber listener" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 addr=127.0.0.1:60815 protocol=https
time=2025-12-13T03:12:47.893-05:00 level=INFO msg="public server listening with TLS" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 addr=127.0.0.1:60815

 ΓöîΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÉ
 Γöé                  Fiber v2.52.10                   Γöé
 Γöé              https://127.0.0.1:60815              Γöé
 Γöé                                                   Γöé
 Γöé Handlers ............ 70  Processes ........... 1 Γöé
 Γöé Prefork ....... Disabled  PID ............. 24136 Γöé
 ΓööΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÿ

time=2025-12-13T03:12:48.318-05:00 level=INFO msg="starting private fiber listener" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 addr=127.0.0.1:60816 protocol=https
time=2025-12-13T03:12:48.318-05:00 level=INFO msg="private server listening with TLS" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 addr=127.0.0.1:60816

 ΓöîΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÉ
 Γöé                  Fiber v2.52.10                   Γöé
 Γöé              https://127.0.0.1:60816              Γöé
 Γöé                                                   Γöé
 Γöé Handlers ............ 14  Processes ........... 1 Γöé
 Γöé Prefork ....... Disabled  PID ............. 24136 Γöé
 ΓööΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÿ

time=2025-12-13T03:12:52.163-05:00 level=DEBUG msg=http_request deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 status=200 duration=1.6211162s reqhead=102 reqbody=0 resphead=361 respbody=301 method=GET path=/readyz ip=127.0.0.1 user_agent=Go-http-client/1.1 trace_id=34ceda5ca224ee0f1643a08d95d6bfa0 span_id=a46ce670071c6866 req_id=9512bfe5-ec0a-4e9b-a667-7e8ce49dbc73
2025/12/13 03:12:53 Checking if server is ready https://127.0.0.1:60816
time=2025-12-13T03:12:56.685-05:00 level=DEBUG msg=http_request deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 status=200 duration=459.2745ms reqhead=102 reqbody=0 resphead=361 respbody=302 method=GET path=/readyz ip=127.0.0.1 user_agent=Go-http-client/1.1 trace_id=53e57983078857004f903e5ee0a459f6 span_id=92648dbb8049b1fd req_id=9612bfe5-ec0a-4e9b-a667-7e8ce49dbc73
2025/12/13 03:12:58 Server is ready
-test.shuffle 1765613578053223200
time=2025-12-13T03:13:01.772-05:00 level=DEBUG msg=http_request deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 status=200 duration=199.042ms reqhead=124 reqbody=0 resphead=361 respbody=304 method=GET path=/admin/v1/readyz ip=127.0.0.1 user_agent=Go-http-client/1.1 trace_id=6fdda4d1f2e37cd5c6a14a8542712676 span_id=35c5d4cbbe4631ed req_id=9712bfe5-ec0a-4e9b-a667-7e8ce49dbc73
--- FAIL: TestHealthChecks (4.39s)
    --- FAIL: TestHealthChecks/Liveness_Check_(/livez) (2.51s)
        application_test.go:298:
            	Error Trace:	C:/Dev/Projects/cryptoutil/internal/kms/server/application/application_test.go:298
            	Error:      	Received unexpected error:
            	            	failed to get /admin/v1/livez: failed to make GET request: Get "https://127.0.0.1:60816/admin/v1/livez": context deadline exceeded
            	Test:       	TestHealthChecks/Liveness_Check_(/livez)
            	Messages:   	should successfully get response from /livez
time=2025-12-13T03:13:04.175-05:00 level=WARN msg="Security headers missing in response" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 component=security-headers missing_headers="[Cross-Origin-Resource-Policy X-Permitted-Cross-Domain-Policies X-Content-Type-Options Referrer-Policy Permissions-Policy Cross-Origin-Opener-Policy Cross-Origin-Embedder-Policy Strict-Transport-Security]" request_path=/ui/swagger request_id=9812bfe5-ec0a-4e9b-a667-7e8ce49dbc73
time=2025-12-13T03:13:04.175-05:00 level=DEBUG msg=http_request deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 status=301 duration=494.2123ms reqhead=119 reqbody=0 resphead=1898 respbody=0 method=GET path=/ui/swagger ip=127.0.0.1 user_agent=Go-http-client/1.1 trace_id=bcd9fd841ccb49f8f70a59ab314bb775 span_id=56ec32e020e9c0f2 req_id=9812bfe5-ec0a-4e9b-a667-7e8ce49dbc73
time=2025-12-13T03:13:04.248-05:00 level=WARN msg="Security headers missing in response" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 component=security-headers missing_headers="[Cross-Origin-Embedder-Policy Cross-Origin-Resource-Policy X-Permitted-Cross-Domain-Policies X-Content-Type-Options Referrer-Policy Permissions-Policy Cross-Origin-Opener-Policy Strict-Transport-Security]" request_path=/ui/swagger/index.html request_id=9912bfe5-ec0a-4e9b-a667-7e8ce49dbc73
time=2025-12-13T03:13:04.248-05:00 level=DEBUG msg=http_request deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 status=200 duration=2.5119ms reqhead=130 reqbody=0 resphead=1914 respbody=2518 method=GET path=/ui/swagger/index.html ip=127.0.0.1 user_agent=Go-http-client/1.1 trace_id=f2e51ecfd166d696352994e1bfe2d908 span_id=549c1662a7243450 req_id=9912bfe5-ec0a-4e9b-a667-7e8ce49dbc73
time=2025-12-13T03:13:04.256-05:00 level=WARN msg="Security headers missing in response" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 component=security-headers missing_headers="[X-Content-Type-Options Referrer-Policy Permissions-Policy Cross-Origin-Opener-Policy Cross-Origin-Embedder-Policy Cross-Origin-Resource-Policy X-Permitted-Cross-Domain-Policies Strict-Transport-Security]" request_path=/ui/swagger/doc.json request_id=9a12bfe5-ec0a-4e9b-a667-7e8ce49dbc73
time=2025-12-13T03:13:04.257-05:00 level=DEBUG msg=http_request deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 status=200 duration=1.0021ms reqhead=128 reqbody=0 resphead=1921 respbody=5867 method=GET path=/ui/swagger/doc.json ip=127.0.0.1 user_agent=Go-http-client/1.1 trace_id=1c921bdf52f5ce503022bc6468abdb32 span_id=df7f6309342cbb16 req_id=9a12bfe5-ec0a-4e9b-a667-7e8ce49dbc73
time=2025-12-13T03:13:04.285-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 txID=019b16c4-d6b3-7064-bbf8-da323f2262a9 mode=ReadOnly
time=2025-12-13T03:13:04.287-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 txID=019b16c4-d6b3-7064-bbf8-da323f2262a9 mode=0xc0004789d0
time=2025-12-13T03:13:04.287-05:00 level=DEBUG msg=http_request deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 status=200 duration=2.0068ms reqhead=135 reqbody=0 resphead=459 respbody=2 method=GET path=/service/api/v1/elastickeys ip=127.0.0.1 user_agent=Go-http-client/1.1 trace_id=f65abb9fd9523580494e4b257671f58f span_id=f76686e6830ecb0b req_id=9b12bfe5-ec0a-4e9b-a667-7e8ce49dbc73
time=2025-12-13T03:13:04.296-05:00 level=DEBUG msg=http_request deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 status=405 duration=0s reqhead=113 reqbody=0 resphead=224 respbody=18 method=HEAD path=/service/api/v1/elastickeys ip=127.0.0.1 user_agent=Go-http-client/1.1 trace_id=8471c83b437f0a717037408a1850ed4f span_id=4c5ea168714ef62c req_id=9c12bfe5-ec0a-4e9b-a667-7e8ce49dbc73
time=2025-12-13T03:13:04.334-05:00 level=DEBUG msg=http_request deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 status=405 duration=0s reqhead=196 reqbody=0 resphead=224 respbody=18 method=TRACE path=/service/api/v1/elastickeys ip=127.0.0.1 user_agent=Go-http-client/1.1 trace_id=fbc2af60a5ce7e922d5ecc20023b824a span_id=0f2b614862ad7d74 req_id=9d12bfe5-ec0a-4e9b-a667-7e8ce49dbc73
time=2025-12-13T03:13:04.339-05:00 level=WARN msg="Security headers missing in response" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 component=security-headers missing_headers="[X-Content-Type-Options Referrer-Policy Permissions-Policy Cross-Origin-Opener-Policy Cross-Origin-Embedder-Policy Cross-Origin-Resource-Policy X-Permitted-Cross-Domain-Policies Strict-Transport-Security]" request_path=/nonexistent request_id=9e12bfe5-ec0a-4e9b-a667-7e8ce49dbc73
time=2025-12-13T03:13:04.339-05:00 level=DEBUG msg=http_request deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 status=200 duration=0s reqhead=120 reqbody=0 resphead=1849 respbody=0 method=GET path=/nonexistent ip=127.0.0.1 user_agent=Go-http-client/1.1 trace_id=b25709bad0dd268f07d04db90dfc6238 span_id=a52a9869fe939455 req_id=9e12bfe5-ec0a-4e9b-a667-7e8ce49dbc73 error="no matching operation was found"
time=2025-12-13T03:13:04.398-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 txID=019b16c4-d6b3-7065-a90c-9bd5b9430638 mode=ReadOnly
time=2025-12-13T03:13:04.398-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 txID=019b16c4-d6b3-7065-a90c-9bd5b9430638 mode=0xc000065850
time=2025-12-13T03:13:04.398-05:00 level=DEBUG msg=http_request deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 status=200 duration=0s reqhead=135 reqbody=0 resphead=459 respbody=2 method=GET path=/service/api/v1/elastickeys ip=127.0.0.1 user_agent=Go-http-client/1.1 trace_id=2ef5130dda4d8b599c4efa8c2022499d span_id=6f09e641faa77349 req_id=9f12bfe5-ec0a-4e9b-a667-7e8ce49dbc73
time=2025-12-13T03:13:04.407-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 txID=019b16c4-d6b3-7066-8497-07e8ba816d3a mode=ReadOnly
time=2025-12-13T03:13:04.407-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 txID=019b16c4-d6b3-7066-8497-07e8ba816d3a mode=0xc0001c9150
time=2025-12-13T03:13:04.407-05:00 level=WARN msg="Security headers missing in response" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 component=security-headers missing_headers="[Cross-Origin-Opener-Policy Cross-Origin-Embedder-Policy Cross-Origin-Resource-Policy X-Permitted-Cross-Domain-Policies X-Content-Type-Options Referrer-Policy Permissions-Policy Strict-Transport-Security]" request_path=/browser/api/v1/elastickeys request_id=a012bfe5-ec0a-4e9b-a667-7e8ce49dbc73
time=2025-12-13T03:13:04.407-05:00 level=DEBUG msg=http_request deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 status=200 duration=0s reqhead=135 reqbody=0 resphead=1881 respbody=2 method=GET path=/browser/api/v1/elastickeys ip=127.0.0.1 user_agent=Go-http-client/1.1 trace_id=684c0412bd26d940271c2d6e0e2c93ad span_id=e68d8ce284504375 req_id=a012bfe5-ec0a-4e9b-a667-7e8ce49dbc73
time=2025-12-13T03:13:04.448-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 txID=019b16c4-d6b3-7067-bb0d-81c1cfa12a1b mode=ReadOnly
time=2025-12-13T03:13:04.448-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 txID=019b16c4-d6b3-7067-bb0d-81c1cfa12a1b mode=0xc00012f350
time=2025-12-13T03:13:04.448-05:00 level=DEBUG msg=http_request deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 status=200 duration=0s reqhead=135 reqbody=0 resphead=459 respbody=2 method=GET path=/service/api/v1/elastickeys ip=127.0.0.1 user_agent=Go-http-client/1.1 trace_id=473f4a7121361eba6dcd683a5a71ae65 span_id=8b1e6750193baaab req_id=a112bfe5-ec0a-4e9b-a667-7e8ce49dbc73
time=2025-12-13T03:13:04.457-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 txID=019b16c4-d6b3-7068-9442-c32d64234833 mode=ReadOnly
time=2025-12-13T03:13:04.457-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 txID=019b16c4-d6b3-7068-9442-c32d64234833 mode=0xc000bba310
time=2025-12-13T03:13:04.457-05:00 level=DEBUG msg=http_request deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 status=200 duration=1.5157ms reqhead=135 reqbody=0 resphead=459 respbody=2 method=GET path=/service/api/v1/elastickeys ip=127.0.0.1 user_agent=Go-http-client/1.1 trace_id=8023618fe4e5f019d06a5be7d70ceb8d span_id=91c8fca5b57579ea req_id=a212bfe5-ec0a-4e9b-a667-7e8ce49dbc73
time=2025-12-13T03:13:04.468-05:00 level=DEBUG msg=http_request deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 status=405 duration=0s reqhead=113 reqbody=0 resphead=224 respbody=18 method=HEAD path=/service/api/v1/elastickeys ip=127.0.0.1 user_agent=Go-http-client/1.1 trace_id=63b84812224ba5e1f325ef8af2636d7c span_id=8542e43d4e6b3a41 req_id=a312bfe5-ec0a-4e9b-a667-7e8ce49dbc73
time=2025-12-13T03:13:04.506-05:00 level=WARN msg="Security headers missing in response" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 component=security-headers missing_headers="[Cross-Origin-Resource-Policy X-Permitted-Cross-Domain-Policies X-Content-Type-Options Referrer-Policy Permissions-Policy Cross-Origin-Opener-Policy Cross-Origin-Embedder-Policy Strict-Transport-Security]" request_path=/nonexistent request_id=a412bfe5-ec0a-4e9b-a667-7e8ce49dbc73
time=2025-12-13T03:13:04.506-05:00 level=DEBUG msg=http_request deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 status=200 duration=0s reqhead=120 reqbody=0 resphead=1849 respbody=0 method=GET path=/nonexistent ip=127.0.0.1 user_agent=Go-http-client/1.1 trace_id=e52201c3aa786f30ffd6d1a06a9170ca span_id=a0eb4e33fd22baf8 req_id=a412bfe5-ec0a-4e9b-a667-7e8ce49dbc73 error="no matching operation was found"
time=2025-12-13T03:13:05.474-05:00 level=DEBUG msg=http_request deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 status=200 duration=0s reqhead=114 reqbody=0 resphead=314 respbody=110 method=GET path=/livez ip=127.0.0.1 user_agent=Go-http-client/1.1 trace_id=18876acfd884b2c2309d0bc8c62d0c99 span_id=058571f08f1eb521 req_id=a512bfe5-ec0a-4e9b-a667-7e8ce49dbc73
time=2025-12-13T03:13:07.765-05:00 level=DEBUG msg=http_request deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 status=200 duration=67.0605ms reqhead=115 reqbody=0 resphead=361 respbody=302 method=GET path=/readyz ip=127.0.0.1 user_agent=Go-http-client/1.1 trace_id=1bb837bc5e81a3dc03abfd3e58f72bd3 span_id=1a1d4683790312f0 req_id=a612bfe5-ec0a-4e9b-a667-7e8ce49dbc73
FAIL
coverage: 64.6% of statements
Tests failed with exit code 1
time=2025-12-13T03:13:08.016-05:00 level=DEBUG msg="stopping servers" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497
time=2025-12-13T03:13:08.016-05:00 level=DEBUG msg="shutting down public fiber app" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497
time=2025-12-13T03:13:08.238-05:00 level=DEBUG msg="public fiber listener stopped" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497
time=2025-12-13T03:13:12.335-05:00 level=DEBUG msg="shutting down private fiber app" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497
time=2025-12-13T03:13:12.445-05:00 level=DEBUG msg="private fiber listener stopped" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497
time=2025-12-13T03:14:08.016-05:00 level=ERROR msg="failed to stop private fiber server" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 error="context deadline exceeded"
time=2025-12-13T03:14:08.016-05:00 level=DEBUG msg="public listener already closed" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 error="close tcp 127.0.0.1:60815: use of closed network connection"
time=2025-12-13T03:14:08.016-05:00 level=DEBUG msg="private listener already closed" deployment.id=dev host.name=localhost service.name=application_test service.version=0.0.1 service.instance.id=019b16c4-b1d1-7bff-b59d-d8635579b497 error="close tcp 127.0.0.1:60816: use of closed network connection"
FAIL	cryptoutil/internal/kms/server/application	109.808s
ok  	cryptoutil/internal/kms/server/barrier	28.265s	coverage: 75.5% of statements
ok  	cryptoutil/internal/kms/server/barrier/contentkeysservice	13.962s	coverage: 81.2% of statements
ok  	cryptoutil/internal/kms/server/barrier/intermediatekeysservice	4.522s	coverage: 76.8% of statements
ok  	cryptoutil/internal/kms/server/barrier/rootkeysservice	4.715s	coverage: 79.0% of statements
ok  	cryptoutil/internal/kms/server/barrier/unsealkeysservice	6.221s	coverage: 90.4% of statements
ok  	cryptoutil/internal/kms/server/businesslogic	9.760s	coverage: 39.0% of statements
ok  	cryptoutil/internal/kms/server/demo	1.476s	coverage: 7.3% of statements
ok  	cryptoutil/internal/kms/server/handler	0.864s	coverage: 79.9% of statements
ok  	cryptoutil/internal/kms/server/middleware	0.413s	coverage: 53.1% of statements
ok  	cryptoutil/internal/kms/server/repository/orm	1.746s	coverage: 88.8% of statements
time=2025-12-13T03:14:00.034-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.037-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.037-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.037-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.038-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.038-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.038-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:00.039-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.039-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.039-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:00.041-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.041-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
SQLite Schema:
Table: schema_migrations
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: barrier_content_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
-test.shuffle 1765613640042353100
time=2025-12-13T03:14:00.042-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-196a-7e2f-8049-d72bb66217e0 readOnly=false
time=2025-12-13T03:14:00.042-05:00 level=WARN msg="rolled back transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-196a-7e2f-8049-d72bb66217e0 readOnly=false
time=2025-12-13T03:14:00.043-05:00 level=ERROR msg="panic occurred during transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=<nil> readOnly=false panic="test panic" stack="goroutine 58 [running]:\nruntime/debug.Stack()\n\tC:/Program Files/Go/src/runtime/debug/stack.go:26 +0x5e\ncryptoutil/internal/kms/server/repository/sqlrepository.(*SQLRepository).WithTransaction.func1()\n\tC:/Dev/Projects/cryptoutil/internal/kms/server/repository/sqlrepository/sql_transaction.go:76 +0x32a\npanic({0x7ff7a1f85320?, 0x7ff7a237dd80?})\n\tC:/Program Files/Go/src/runtime/panic.go:783 +0x132\ncryptoutil/internal/kms/server/repository/sqlrepository.TestSQLTransaction_PanicHandling.func1(0xc00005dca0?)\n\tC:/Dev/Projects/cryptoutil/internal/kms/server/repository/sqlrepository/sql_comprehensive_test.go:184 +0x25\ncryptoutil/internal/kms/server/repository/sqlrepository.TestSQLTransaction_PanicHandling.func3.1.2(0xc000008a38?)\n\tC:/Dev/Projects/cryptoutil/internal/kms/server/repository/sqlrepository/sql_comprehensive_test.go:208 +0x17\ncryptoutil/internal/kms/server/repository/sqlrepository.(*SQLRepository).WithTransaction(0xc000226200, {0x7ff7a2393538, 0x7ff7a2db0140}, 0x0, 0xc00005ded0)\n\tC:/Dev/Projects/cryptoutil/internal/kms/server/repository/sqlrepository/sql_transaction.go:81 +0x64f\ncryptoutil/internal/kms/server/repository/sqlrepository.TestSQLTransaction_PanicHandling.func3.1(0xc00005df50, {{0x7ff7a21c2849, 0x11}, {0x7ff7a21ba7ff, 0xa}, 0x7ff7a221d988})\n\tC:/Dev/Projects/cryptoutil/internal/kms/server/repository/sqlrepository/sql_comprehensive_test.go:207 +0xd4\ncryptoutil/internal/kms/server/repository/sqlrepository.TestSQLTransaction_PanicHandling.func3(0xc0001cbc00)\n\tC:/Dev/Projects/cryptoutil/internal/kms/server/repository/sqlrepository/sql_comprehensive_test.go:213 +0x37\ntesting.tRunner(0xc0001cbc00, 0xc000444540)\n\tC:/Program Files/Go/src/testing/testing.go:1934 +0xc3\ncreated by testing.(*T).Run in goroutine 57\n\tC:/Program Files/Go/src/testing/testing.go:1997 +0x44b\n"
time=2025-12-13T03:14:00.043-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-196b-7728-80ea-7d037a71e2f6 readOnly=false
time=2025-12-13T03:14:00.043-05:00 level=WARN msg="rolled back transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-196b-7728-80ea-7d037a71e2f6 readOnly=false
time=2025-12-13T03:14:00.043-05:00 level=ERROR msg="panic occurred during transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=<nil> readOnly=false panic="error panic" stack="goroutine 60 [running]:\nruntime/debug.Stack()\n\tC:/Program Files/Go/src/runtime/debug/stack.go:26 +0x5e\ncryptoutil/internal/kms/server/repository/sqlrepository.(*SQLRepository).WithTransaction.func1()\n\tC:/Dev/Projects/cryptoutil/internal/kms/server/repository/sqlrepository/sql_transaction.go:76 +0x32a\npanic({0x7ff7a1fd8b40?, 0xc000449540?})\n\tC:/Program Files/Go/src/runtime/panic.go:783 +0x132\ncryptoutil/internal/kms/server/repository/sqlrepository.TestSQLTransaction_PanicHandling.func2(0xc00005dca0?)\n\tC:/Dev/Projects/cryptoutil/internal/kms/server/repository/sqlrepository/sql_comprehensive_test.go:191 +0x3b\ncryptoutil/internal/kms/server/repository/sqlrepository.TestSQLTransaction_PanicHandling.func3.1.2(0xc000008a68?)\n\tC:/Dev/Projects/cryptoutil/internal/kms/server/repository/sqlrepository/sql_comprehensive_test.go:208 +0x17\ncryptoutil/internal/kms/server/repository/sqlrepository.(*SQLRepository).WithTransaction(0xc000226200, {0x7ff7a2393538, 0x7ff7a2db0140}, 0x0, 0xc00005ded0)\n\tC:/Dev/Projects/cryptoutil/internal/kms/server/repository/sqlrepository/sql_transaction.go:81 +0x64f\ncryptoutil/internal/kms/server/repository/sqlrepository.TestSQLTransaction_PanicHandling.func3.1(0xc00005df50, {{0x7ff7a21c1335, 0x10}, {0x7ff7a21bb880, 0xb}, 0x7ff7a221d990})\n\tC:/Dev/Projects/cryptoutil/internal/kms/server/repository/sqlrepository/sql_comprehensive_test.go:207 +0xd4\ncryptoutil/internal/kms/server/repository/sqlrepository.TestSQLTransaction_PanicHandling.func3(0xc0001ce1c0)\n\tC:/Dev/Projects/cryptoutil/internal/kms/server/repository/sqlrepository/sql_comprehensive_test.go:213 +0x37\ntesting.tRunner(0xc0001ce1c0, 0xc000444600)\n\tC:/Program Files/Go/src/testing/testing.go:1934 +0xc3\ncreated by testing.(*T).Run in goroutine 57\n\tC:/Program Files/Go/src/testing/testing.go:1997 +0x44b\n"
SQLite Schema:
Table: schema_migrations
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: barrier_content_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.045-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-196d-7270-bbf0-4d77e6107d99 readOnly=false
time=2025-12-13T03:14:00.045-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-196d-7270-bbf0-4d77e6107d99 readOnly=false
time=2025-12-13T03:14:00.045-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-196d-7279-bec1-826e1739d7e1 readOnly=false
time=2025-12-13T03:14:00.045-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-196d-7279-bec1-826e1739d7e1 readOnly=false
time=2025-12-13T03:14:00.045-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-196d-7272-ba87-759c8d679016 readOnly=false
time=2025-12-13T03:14:00.045-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-196d-7272-ba87-759c8d679016 readOnly=false
time=2025-12-13T03:14:00.045-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-196d-7278-8658-1a38cea61691 readOnly=false
time=2025-12-13T03:14:00.045-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-196d-7278-8658-1a38cea61691 readOnly=false
time=2025-12-13T03:14:00.045-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-196d-7271-a07f-93235189ba2f readOnly=false
time=2025-12-13T03:14:00.045-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-196d-7271-a07f-93235189ba2f readOnly=false
time=2025-12-13T03:14:00.046-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-196d-7275-bca7-89a165d2ff60 readOnly=false
time=2025-12-13T03:14:00.046-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-196d-7275-bca7-89a165d2ff60 readOnly=false
time=2025-12-13T03:14:00.046-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-196d-7274-9bd5-5f5f7737ae3a readOnly=false
time=2025-12-13T03:14:00.046-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-196d-7274-9bd5-5f5f7737ae3a readOnly=false
time=2025-12-13T03:14:00.046-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-196d-7273-a7be-f267e766ea62 readOnly=false
time=2025-12-13T03:14:00.046-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-196d-7273-a7be-f267e766ea62 readOnly=false
time=2025-12-13T03:14:00.046-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-196d-7276-96b0-aa06a69f938f readOnly=false
time=2025-12-13T03:14:00.046-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-196d-7276-96b0-aa06a69f938f readOnly=false
time=2025-12-13T03:14:00.046-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-196d-7277-bb08-9680ba40857f readOnly=false
time=2025-12-13T03:14:00.046-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-196d-7277-bb08-9680ba40857f readOnly=false
time=2025-12-13T03:14:00.048-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-1970-7e0a-9f81-b58b18e6b721 readOnly=false
time=2025-12-13T03:14:00.048-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-1970-7e0a-9f81-b58b18e6b721 readOnly=false
time=2025-12-13T03:14:00.048-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-1970-7e0b-abf9-ff29f163b687 readOnly=false
time=2025-12-13T03:14:00.048-05:00 level=ERROR msg="transaction function failed" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-1970-7e0b-abf9-ff29f163b687 readOnly=false error="intentional test error"
time=2025-12-13T03:14:00.048-05:00 level=WARN msg="rolled back transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-1970-7e0b-abf9-ff29f163b687 readOnly=false
time=2025-12-13T03:14:00.048-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=unsupported
time=2025-12-13T03:14:00.049-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-1971-7716-b86c-5c36464ba689 readOnly=false
time=2025-12-13T03:14:00.049-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-1971-7716-b86c-5c36464ba689 readOnly=false
time=2025-12-13T03:14:00.049-05:00 level=DEBUG msg="initializing otel logs provider" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.056-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=transaction_errors service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.056-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=transaction_errors service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.056-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=error_container_not_exist service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.056-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=transaction_errors service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.056-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=error_container_not_exist service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.056-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=error_container_not_exist service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.056-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.056-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.056-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=error_container_not_exist service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.056-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=error_container_not_exist service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.056-05:00 level=DEBUG msg="container mode is required, trying to start a container" deployment.id=dev host.name=localhost service.name=error_container_not_exist service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.056-05:00 level=DEBUG msg="containerMode is not disabled, so trying to start a container" deployment.id=dev host.name=localhost service.name=error_container_not_exist service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 dbType=sqlite containerMode=required
time=2025-12-13T03:14:00.056-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=transaction_errors service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.056-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=transaction_errors service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.056-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=transaction_errors service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.056-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=transaction_errors service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:00.056-05:00 level=DEBUG msg="initializing metrics provider" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.056-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.056-05:00 level=DEBUG msg="initializing traces provider" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.056-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=transaction_errors service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.056-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=transaction_errors service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.056-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=transaction_errors service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:00.056-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.057-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=transaction_errors service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.057-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=transaction_errors service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.057-05:00 level=DEBUG msg="sample parent trace and span" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 traceid=274d5f795253e1a7b486d3255ec2c167 traceid=05c614592246cc71
time=2025-12-13T03:14:00.057-05:00 level=DEBUG msg="sample child trace and span" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 traceid=274d5f795253e1a7b486d3255ec2c167 traceid=8e2386e5045fa821
time=2025-12-13T03:14:00.057-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.057-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.057-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
SQLite Schema:
Table: schema_migrations
time=2025-12-13T03:14:00.057-05:00 level=INFO msg="DB Pool Settings" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 maxOpenConnections=1 openConnections=1 idle=1 isUse=0 waitCount=0 waitDuration=0s maxIdleClosed=0 maxIdleTimeClosed=0 maxLifetimeClosed=0
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.057-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.057-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.057-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
Table: barrier_content_keys
time=2025-12-13T03:14:00.058-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=sql_schema_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.058-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=sql_schema_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.058-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=error_container_not_exist service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0084835 flush=0.0021131
time=2025-12-13T03:14:00.058-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=sql_schema_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.058-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=migrations_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.058-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=migrations_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.058-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=sql_schema_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.058-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=sql_schema_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.058-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=migrations_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.058-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=sql_schema_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.058-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=error_container_not_exist service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0090039 flush=0
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
time=2025-12-13T03:14:00.058-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=migrations_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.058-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=migrations_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.058-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=sql_schema_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.058-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=migrations_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.058-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=migrations_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
Table: barrier_intermediate_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.059-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=sql_schema_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.059-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=sql_schema_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.059-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=sql_schema_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:00.059-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=TestSQLTransaction_PublicMethods_019b16c6-1972-77f3-b325-943f219bc82e service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.059-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=TestSQLTransaction_PublicMethods_019b16c6-1972-77f3-b325-943f219bc82e service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=TestSQLTransaction_PublicMethods_019b16c6-1972-77f3-b325-943f219bc82e service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.059-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-197a-7f11-976b-412efda20b41 readOnly=false
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=TestSQLTransaction_PublicMethods_019b16c6-1972-77f3-b325-943f219bc82e service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=TestSQLTransaction_PublicMethods_019b16c6-1972-77f3-b325-943f219bc82e service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.060-05:00 level=WARN msg="rolled back transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-197a-7f11-976b-412efda20b41 readOnly=false
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=TestSQLTransaction_PublicMethods_019b16c6-1972-77f3-b325-943f219bc82e service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=TestSQLTransaction_PublicMethods_019b16c6-1972-77f3-b325-943f219bc82e service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_EmptyDatabaseURL_019b16c6-1971-7f06-9fda-ac36d5dbda70 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.060-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_EmptyDatabaseURL_019b16c6-1971-7f06-9fda-ac36d5dbda70 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.060-05:00 level=ERROR msg="panic occurred during transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=<nil> readOnly=false panic="simulated panic during transaction" stack="goroutine 45 [running]:\nruntime/debug.Stack()\n\tC:/Program Files/Go/src/runtime/debug/stack.go:26 +0x5e\ncryptoutil/internal/kms/server/repository/sqlrepository.(*SQLRepository).WithTransaction.func1()\n\tC:/Dev/Projects/cryptoutil/internal/kms/server/repository/sqlrepository/sql_transaction.go:76 +0x32a\npanic({0x7ff7a1f85320?, 0x7ff7a237dc80?})\n\tC:/Program Files/Go/src/runtime/panic.go:783 +0x132\ncryptoutil/internal/kms/server/repository/sqlrepository.TestSQLTransaction_PanicRecovery.func2(0xc000008660?)\n\tC:/Dev/Projects/cryptoutil/internal/kms/server/repository/sqlrepository/sql_provider_test.go:56 +0x45\ncryptoutil/internal/kms/server/repository/sqlrepository.(*SQLRepository).WithTransaction(0xc000226200, {0x7ff7a2393538, 0x7ff7a2db0140}, 0x0, 0xc000cd5f48)\n\tC:/Dev/Projects/cryptoutil/internal/kms/server/repository/sqlrepository/sql_transaction.go:81 +0x64f\ncryptoutil/internal/kms/server/repository/sqlrepository.TestSQLTransaction_PanicRecovery(0xc00027dc00)\n\tC:/Dev/Projects/cryptoutil/internal/kms/server/repository/sqlrepository/sql_provider_test.go:54 +0x7f\ntesting.tRunner(0xc00027dc00, 0x7ff7a221d548)\n\tC:/Program Files/Go/src/testing/testing.go:1934 +0xc3\ncreated by testing.(*T).Run in goroutine 1\n\tC:/Program Files/Go/src/testing/testing.go:1997 +0x44b\n"
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_EmptyDatabaseURL_019b16c6-1971-7f06-9fda-ac36d5dbda70 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_EmptyDatabaseURL_019b16c6-1971-7f06-9fda-ac36d5dbda70 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
SQLite Schema:
Table: schema_migrations
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=sql_schema_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=sql_schema_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_EmptyDatabaseURL_019b16c6-1971-7f06-9fda-ac36d5dbda70 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0100568 flush=0
SQLite Schema:
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=migrations_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=migrations_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
Table: barrier_root_keys
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_EmptyDatabaseURL_019b16c6-1971-7f06-9fda-ac36d5dbda70 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0100568 flush=0
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
Table: schema_migrations
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=TestSQLTransaction_PublicMethods_019b16c6-1972-77f3-b325-943f219bc82e service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
Table: barrier_content_keys
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=TestSQLTransaction_PublicMethods_019b16c6-1972-77f3-b325-943f219bc82e service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=migrations_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
Table: elastic_keys
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="initializing otel logs provider" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=TestSQLTransaction_PublicMethods_019b16c6-1972-77f3-b325-943f219bc82e service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=schema_creation_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.060-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=schema_creation_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=schema_creation_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=schema_creation_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="running in production mode, using PostgreSQL database" deployment.id=dev host.name=localhost service.name=schema_creation_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=schema_creation_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
Table: barrier_intermediate_keys
Table: barrier_content_keys
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=TestSQLTransaction_PublicMethods_019b16c6-1972-77f3-b325-943f219bc82e service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=TestSQLTransaction_PublicMethods_019b16c6-1972-77f3-b325-943f219bc82e service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=migrations_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=migrations_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.060-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=schema_creation_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
SQLite Schema:
Table: schema_migrations
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
SQLite Schema:
Table: schema_migrations
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
Table: barrier_content_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_content_keys
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.061-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=unsupported_db_type service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
time=2025-12-13T03:14:00.061-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=unsupported_db_type service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.061-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=unsupported_db_type service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
Table: barrier_root_keys
time=2025-12-13T03:14:00.061-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=unsupported_db_type service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
time=2025-12-13T03:14:00.061-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=unsupported_db_type service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.001138 flush=0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
Table: elastic_keys
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.061-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
time=2025-12-13T03:14:00.061-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.061-05:00 level=DEBUG msg="initializing metrics provider" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.061-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=unsupported_db_type service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.001138 flush=0
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
time=2025-12-13T03:14:00.061-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.061-05:00 level=DEBUG msg="initializing traces provider" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
time=2025-12-13T03:14:00.061-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
time=2025-12-13T03:14:00.062-05:00 level=DEBUG msg="sample parent trace and span" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 traceid=e438c942c84dcd653eedaa14d9a688af traceid=49174a31408ec9ad
time=2025-12-13T03:14:00.062-05:00 level=DEBUG msg="sample child trace and span" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 traceid=e438c942c84dcd653eedaa14d9a688af traceid=b08cc8240a4cf62a
time=2025-12-13T03:14:00.062-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.062-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.062-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.062-05:00 level=INFO msg="DB Pool Settings" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 maxOpenConnections=1 openConnections=1 idle=1 isUse=0 waitCount=0 waitDuration=0s maxIdleClosed=0 maxIdleTimeClosed=0 maxLifetimeClosed=0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
time=2025-12-13T03:14:00.062-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.062-05:00 level=ERROR msg="can't commit because transaction not active" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=<nil> readOnly=false
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
time=2025-12-13T03:14:00.062-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.062-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.062-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.062-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.062-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
time=2025-12-13T03:14:00.063-05:00 level=DEBUG msg="shutting down telemetry providers" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.013357
Table: material_keys
time=2025-12-13T03:14:00.063-05:00 level=DEBUG msg="traces provider force flushing" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.013357
time=2025-12-13T03:14:00.063-05:00 level=DEBUG msg="traces provider force flushed" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.013357 flush=0
time=2025-12-13T03:14:00.063-05:00 level=DEBUG msg="metrics provider force flushing" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.013357
time=2025-12-13T03:14:00.063-05:00 level=DEBUG msg="metrics provider force flushed" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.013357 flush=0
time=2025-12-13T03:14:00.063-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
time=2025-12-13T03:14:00.063-05:00 level=DEBUG msg="logs provider force flushing" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.013357
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
time=2025-12-13T03:14:00.063-05:00 level=DEBUG msg="logs provider force flushed" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0139186 flush=0.0005616
time=2025-12-13T03:14:00.063-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0139186 flush=0.0005616
time=2025-12-13T03:14:00.063-05:00 level=DEBUG msg="traces provider shutting down" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0139186
time=2025-12-13T03:14:00.063-05:00 level=DEBUG msg="traces provider shut down" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0139186 flush=0
time=2025-12-13T03:14:00.063-05:00 level=DEBUG msg="metrics provider shutting down" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0139186
time=2025-12-13T03:14:00.063-05:00 level=DEBUG msg="metrics provider shut down" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0139186 flush=0
time=2025-12-13T03:14:00.063-05:00 level=DEBUG msg="logs provider shutting down" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0139186
SQLite Schema:
Table: schema_migrations
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.063-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=deadline_exceeded_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.064-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=deadline_exceeded_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.064-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=deadline_exceeded_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.064-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=deadline_exceeded_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.064-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=deadline_exceeded_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.064-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=deadline_exceeded_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.064-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=deadline_exceeded_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:00.065-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=deadline_exceeded_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.065-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=deadline_exceeded_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.065-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=deadline_exceeded_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:00.065-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=deadline_exceeded_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.065-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=deadline_exceeded_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
SQLite Schema:
Table: schema_migrations
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: barrier_content_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
SQLite Schema:
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.065-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=TestSQLTransaction_PublicMethods_019b16c6-1972-77f3-b325-943f219bc82e service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-1981-7c87-bcf1-1f101b565dd6 readOnly=false
time=2025-12-13T03:14:00.065-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=TestSQLTransaction_PublicMethods_019b16c6-1972-77f3-b325-943f219bc82e service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-1981-7c87-bcf1-1f101b565dd6 readOnly=false
time=2025-12-13T03:14:00.065-05:00 level=WARN msg="database doesn't support read-only transactions" deployment.id=dev host.name=localhost service.name=TestSQLTransaction_PublicMethods_019b16c6-1972-77f3-b325-943f219bc82e service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 dbType=sqlite
time=2025-12-13T03:14:00.065-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=TestSQLTransaction_PublicMethods_019b16c6-1972-77f3-b325-943f219bc82e service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.065-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=TestSQLTransaction_PublicMethods_019b16c6-1972-77f3-b325-943f219bc82e service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.065-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=TestSQLTransaction_PublicMethods_019b16c6-1972-77f3-b325-943f219bc82e service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0152999 flush=0
Table: schema_migrations
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: barrier_content_keys
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: barrier_content_keys
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.066-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=sql_shutdown_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.066-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=migrations_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.066-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=migrations_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
Table: barrier_intermediate_keys
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.065-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=TestSQLTransaction_PublicMethods_019b16c6-1972-77f3-b325-943f219bc82e service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0152999 flush=0
time=2025-12-13T03:14:00.066-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=sql_shutdown_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.066-05:00 level=DEBUG msg="logs provider shut down" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0164877 flush=0.0025691
time=2025-12-13T03:14:00.067-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=sql_shutdown_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.067-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=sql_shutdown_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
Table: barrier_intermediate_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
time=2025-12-13T03:14:00.067-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=migrations_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0170241 flush=0.0005364
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.067-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=migrations_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0170241 flush=0
time=2025-12-13T03:14:00.067-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=verbose_pool_logging service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0170241 flush=0.0031055
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.067-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=sql_shutdown_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.067-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=sql_shutdown_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
Table: material_keys
time=2025-12-13T03:14:00.067-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=sql_shutdown_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
time=2025-12-13T03:14:00.067-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=healthcheck_timeout service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.067-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=healthcheck_timeout service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.067-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=healthcheck_timeout service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.067-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=sql_shutdown_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.067-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=sql_shutdown_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
Table: elastic_keys
time=2025-12-13T03:14:00.067-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=sql_shutdown_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
time=2025-12-13T03:14:00.067-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=healthcheck_timeout service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
time=2025-12-13T03:14:00.067-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=healthcheck_timeout service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.067-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=healthcheck_timeout service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
time=2025-12-13T03:14:00.068-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=healthcheck_timeout service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.068-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=sql_init_nil_settings service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.068-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=sql_init_nil_settings service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.068-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=sql_shutdown_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.068-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=sql_shutdown_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.068-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_InvalidDatabaseURL_019b16c6-1983-701e-9e66-7b7ccc769db4 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.068-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_InvalidDatabaseURL_019b16c6-1983-701e-9e66-7b7ccc769db4 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.068-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=healthcheck_timeout service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.068-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_InvalidDatabaseURL_019b16c6-1983-701e-9e66-7b7ccc769db4 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.068-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=healthcheck_timeout service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.068-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=healthcheck_timeout service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:00.068-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=sql_init_nil_settings service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.072-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=sql_init_nil_settings service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.072-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=healthcheck_timeout service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.072-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=healthcheck_timeout service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
SQLite Schema:
Table: schema_migrations
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.068-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_InvalidDatabaseURL_019b16c6-1983-701e-9e66-7b7ccc769db4 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.072-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=sql_init_nil_settings service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0050469 flush=0
SQLite Schema:
Table: schema_migrations
Table: barrier_content_keys
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.072-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=sql_init_nil_settings service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0050469 flush=0
time=2025-12-13T03:14:00.072-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=sql_schema_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.072-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=sql_schema_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: material_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.072-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_InvalidDatabaseURL_019b16c6-1983-701e-9e66-7b7ccc769db4 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0055878 flush=0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
Table: barrier_content_keys
time=2025-12-13T03:14:00.072-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_InvalidDatabaseURL_019b16c6-1983-701e-9e66-7b7ccc769db4 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0055878 flush=0
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
Table: barrier_intermediate_keys
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
Table: barrier_root_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.073-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=sql_schema_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0233334 flush=0.0007215
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.073-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=sql_schema_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0233334 flush=0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
Table: barrier_root_keys
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.073-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.073-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.073-05:00 level=DEBUG msg="shutting down telemetry providers" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0132766
time=2025-12-13T03:14:00.073-05:00 level=DEBUG msg="traces provider force flushing" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0132766
time=2025-12-13T03:14:00.073-05:00 level=DEBUG msg="traces provider force flushed" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0132766 flush=0
time=2025-12-13T03:14:00.073-05:00 level=DEBUG msg="metrics provider force flushing" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0132766
time=2025-12-13T03:14:00.073-05:00 level=DEBUG msg="metrics provider force flushed" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0132766 flush=0
time=2025-12-13T03:14:00.073-05:00 level=DEBUG msg="logs provider force flushing" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0132766
Table: elastic_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.073-05:00 level=DEBUG msg="logs provider force flushed" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0132766 flush=0
time=2025-12-13T03:14:00.073-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0138084 flush=0.0005318
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
time=2025-12-13T03:14:00.073-05:00 level=DEBUG msg="traces provider shutting down" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0138084
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
time=2025-12-13T03:14:00.073-05:00 level=DEBUG msg="traces provider shut down" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0138084 flush=0
time=2025-12-13T03:14:00.073-05:00 level=DEBUG msg="metrics provider shutting down" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0138084
time=2025-12-13T03:14:00.073-05:00 level=DEBUG msg="metrics provider shut down" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0138084 flush=0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.073-05:00 level=DEBUG msg="logs provider shutting down" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0138084
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.073-05:00 level=DEBUG msg="logs provider shut down" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0138084 flush=0
time=2025-12-13T03:14:00.073-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=shutdown_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.073-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=shutdown_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
Table: material_keys
time=2025-12-13T03:14:00.073-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=shutdown_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.073-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=log_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0138084 flush=0
time=2025-12-13T03:14:00.073-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=shutdown_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.073-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=shutdown_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.073-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=shutdown_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.073-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=healthcheck_timeout service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.073-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=healthcheck_timeout service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.074-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=shutdown_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.074-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=sql_shutdown_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.074-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=sql_shutdown_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.074-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=sql_transaction_func_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.074-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=sql_transaction_func_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.074-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=sql_transaction_func_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.074-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=sql_transaction_func_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.074-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=sql_transaction_func_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.074-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=sql_transaction_func_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.074-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=sql_transaction_func_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:00.074-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=shutdown_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.074-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=shutdown_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.074-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=shutdown_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:00.074-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=shutdown_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.074-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=shutdown_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
SQLite Schema:
Table: schema_migrations
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: barrier_content_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.075-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=shutdown_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.075-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=shutdown_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.075-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=shutdown_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.075-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=shutdown_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.075-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=shutdown_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0033776 flush=0
time=2025-12-13T03:14:00.075-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=TestSQLRepository_Shutdown_Isolated_019b16c6-1989-7cf3-92f5-d419b3eec5b2 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.075-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=TestSQLRepository_Shutdown_Isolated_019b16c6-1989-7cf3-92f5-d419b3eec5b2 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.075-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=sql_transaction_func_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.075-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=TestSQLRepository_Shutdown_Isolated_019b16c6-1989-7cf3-92f5-d419b3eec5b2 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.075-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=sql_transaction_func_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.075-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=sql_shutdown_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0132006 flush=0.0015851
time=2025-12-13T03:14:00.075-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=TestSQLRepository_Shutdown_Isolated_019b16c6-1989-7cf3-92f5-d419b3eec5b2 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.075-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=sql_transaction_func_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:00.075-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=sql_shutdown_postgres service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0132006 flush=0
time=2025-12-13T03:14:00.075-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=sql_transaction_panic service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.076-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=sql_transaction_panic service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.076-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=sql_transaction_panic service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.076-05:00 level=WARN msg="database doesn't support read-only transactions" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 dbType=sqlite
time=2025-12-13T03:14:00.076-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=sql_transaction_panic service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.076-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=sql_transaction_panic service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.076-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=sql_transaction_panic service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.076-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=sql_transaction_func_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.076-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=sql_transaction_func_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.075-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=TestSQLRepository_Shutdown_Isolated_019b16c6-1989-7cf3-92f5-d419b3eec5b2 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.076-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=TestSQLRepository_Shutdown_Isolated_019b16c6-1989-7cf3-92f5-d419b3eec5b2 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.076-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=TestSQLRepository_Shutdown_Isolated_019b16c6-1989-7cf3-92f5-d419b3eec5b2 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:00.076-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=sql_transaction_panic service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:00.076-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-198c-7968-9665-0a24a932d30d readOnly=false
time=2025-12-13T03:14:00.076-05:00 level=ERROR msg="transaction already started" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-198c-7968-9665-0a24a932d30d
time=2025-12-13T03:14:00.076-05:00 level=ERROR msg="transaction function failed" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-198c-7968-9665-0a24a932d30d readOnly=false error="transaction already started"
SQLite Schema:
Table: schema_migrations
time=2025-12-13T03:14:00.076-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=shutdown_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0040212 flush=0.0006436
time=2025-12-13T03:14:00.076-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=healthcheck_timeout service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.009609 flush=0.0016529
time=2025-12-13T03:14:00.077-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=sql_transaction_panic service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.077-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=sql_transaction_panic service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.077-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=sql_transaction_panic service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:00.077-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=healthcheck_timeout service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0103733 flush=0.0007643
time=2025-12-13T03:14:00.077-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=TestSQLRepository_Shutdown_Isolated_019b16c6-1989-7cf3-92f5-d419b3eec5b2 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.077-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=TestSQLRepository_Shutdown_Isolated_019b16c6-1989-7cf3-92f5-d419b3eec5b2 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.077-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=TestSQLRepository_Shutdown_Isolated_019b16c6-1989-7cf3-92f5-d419b3eec5b2 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.077-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=sql_transaction_panic service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.077-05:00 level=WARN msg="rolled back transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-198c-7968-9665-0a24a932d30d readOnly=false
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.077-05:00 level=ERROR msg="failed to begin transaction" deployment.id=dev host.name=localhost service.name=deadline_exceeded_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-198d-7dd4-b825-1533a0ed0013 readOnly=false error="context deadline exceeded"
time=2025-12-13T03:14:00.077-05:00 level=ERROR msg="failed to begin transaction" deployment.id=dev host.name=localhost service.name=deadline_exceeded_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 error="failed to begin transaction: context deadline exceeded"
time=2025-12-13T03:14:00.077-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=deadline_exceeded_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.077-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=deadline_exceeded_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.077-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=sql_transaction_panic service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.077-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=TestSQLRepository_Shutdown_Isolated_019b16c6-1989-7cf3-92f5-d419b3eec5b2 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.077-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=TestSQLRepository_Shutdown_Isolated_019b16c6-1989-7cf3-92f5-d419b3eec5b2 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.078-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=deadline_exceeded_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0167157 flush=0.0005243
SQLite Schema:
Table: schema_migrations
Table: barrier_content_keys
time=2025-12-13T03:14:00.078-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=deadline_exceeded_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0167157 flush=0
time=2025-12-13T03:14:00.078-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=shutdown_closed_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.078-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=shutdown_closed_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.078-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=shutdown_closed_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
SQLite Schema:
Table: schema_migrations
time=2025-12-13T03:14:00.078-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=sql_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.078-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=sql_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.078-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=sql_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
Table: barrier_intermediate_keys
time=2025-12-13T03:14:00.078-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=shutdown_closed_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
Table: barrier_content_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.078-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=sql_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.078-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=sql_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.078-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=sql_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.078-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=sql_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
Table: barrier_content_keys
time=2025-12-13T03:14:00.078-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=shutdown_closed_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.078-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=shutdown_closed_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
time=2025-12-13T03:14:00.078-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=shutdown_closed_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
time=2025-12-13T03:14:00.078-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=sql_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.078-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=sql_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
Table: barrier_root_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
time=2025-12-13T03:14:00.078-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=sql_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:00.079-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=TestCreateGormDB_SQLite_019b16c6-198e-7693-a71c-1270bda2e7d5 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.079-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=TestCreateGormDB_SQLite_019b16c6-198e-7693-a71c-1270bda2e7d5 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
time=2025-12-13T03:14:00.079-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=TestCreateGormDB_SQLite_019b16c6-198e-7693-a71c-1270bda2e7d5 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
time=2025-12-13T03:14:00.079-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=TestCreateGormDB_SQLite_019b16c6-198e-7693-a71c-1270bda2e7d5 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.079-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=TestCreateGormDB_SQLite_019b16c6-198e-7693-a71c-1270bda2e7d5 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.079-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=TestCreateGormDB_SQLite_019b16c6-198e-7693-a71c-1270bda2e7d5 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.079-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=TestCreateGormDB_SQLite_019b16c6-198e-7693-a71c-1270bda2e7d5 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.079-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=shutdown_closed_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.079-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=shutdown_closed_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.079-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=shutdown_closed_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:00.080-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=nil_inputs_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.080-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=nil_inputs_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.080-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=nil_inputs_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.080-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=nil_inputs_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.080-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=shutdown_closed_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.080-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=shutdown_closed_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.080-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=sql_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.080-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=sql_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.080-05:00 level=ERROR msg="can't rollback because transaction not active" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=<nil> readOnly=false
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
Table: elastic_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
SQLite Schema:
Table: schema_migrations
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.080-05:00 level=DEBUG msg="initializing otel logs provider" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.080-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=TestCreateGormDB_SQLite_019b16c6-198e-7693-a71c-1270bda2e7d5 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.080-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=TestCreateGormDB_SQLite_019b16c6-198e-7693-a71c-1270bda2e7d5 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.080-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=TestCreateGormDB_SQLite_019b16c6-198e-7693-a71c-1270bda2e7d5 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
SQLite Schema:
Table: schema_migrations
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_content_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
Table: barrier_content_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
Table: material_keys
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.081-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.081-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=TestCreateGormDB_SQLite_019b16c6-198e-7693-a71c-1270bda2e7d5 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.081-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=TestCreateGormDB_SQLite_019b16c6-198e-7693-a71c-1270bda2e7d5 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.081-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.081-05:00 level=DEBUG msg="initializing metrics provider" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
Table: barrier_root_keys
SQLite Schema:
Table: schema_migrations
Table: barrier_intermediate_keys
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.081-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
Table: material_keys
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.081-05:00 level=DEBUG msg="initializing traces provider" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.082-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.082-05:00 level=DEBUG msg="sample parent trace and span" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 traceid=f1bb5282143db04368cbdb75844bd852 traceid=fb5fa1cf956ac1b1
time=2025-12-13T03:14:00.082-05:00 level=DEBUG msg="sample child trace and span" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 traceid=f1bb5282143db04368cbdb75844bd852 traceid=c4a9d7c65e7f0a38
time=2025-12-13T03:14:00.082-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.082-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
time=2025-12-13T03:14:00.082-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
Table: material_keys
Table: elastic_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.082-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sql_transaction_panic service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-1992-716b-b10a-a343b9eed026 readOnly=false
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
time=2025-12-13T03:14:00.082-05:00 level=INFO msg="DB Pool Settings" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 maxOpenConnections=1 openConnections=1 idle=1 isUse=0 waitCount=0 waitDuration=0s maxIdleClosed=0 maxIdleTimeClosed=0 maxLifetimeClosed=0
time=2025-12-13T03:14:00.082-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.082-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.082-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.082-05:00 level=WARN msg="rolled back transaction" deployment.id=dev host.name=localhost service.name=sql_transaction_panic service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-1992-716b-b10a-a343b9eed026 readOnly=false
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
time=2025-12-13T03:14:00.082-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sql_transaction_func_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-1992-716c-b5ac-8e9c902c7806 readOnly=false
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_content_keys
time=2025-12-13T03:14:00.082-05:00 level=ERROR msg="transaction function failed" deployment.id=dev host.name=localhost service.name=sql_transaction_func_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-1992-716c-b5ac-8e9c902c7806 readOnly=false error="test transaction function error"
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.082-05:00 level=ERROR msg="panic occurred during transaction" deployment.id=dev host.name=localhost service.name=sql_transaction_panic service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=<nil> readOnly=false panic="simulated panic in transaction" stack="goroutine 84 [running]:\nruntime/debug.Stack()\n\tC:/Program Files/Go/src/runtime/debug/stack.go:26 +0x5e\ncryptoutil/internal/kms/server/repository/sqlrepository.(*SQLRepository).WithTransaction.func1()\n\tC:/Dev/Projects/cryptoutil/internal/kms/server/repository/sqlrepository/sql_transaction.go:76 +0x32a\npanic({0x7ff7a1f85320?, 0x7ff7a237dc60?})\n\tC:/Program Files/Go/src/runtime/panic.go:783 +0x132\ncryptoutil/internal/kms/server/repository/sqlrepository.TestWithTransaction_PanicRecovery.func2(0xc0002d23d8?)\n\tC:/Dev/Projects/cryptoutil/internal/kms/server/repository/sqlrepository/sql_initialization_test.go:147 +0x25\ncryptoutil/internal/kms/server/repository/sqlrepository.(*SQLRepository).WithTransaction(0xc0008042c0, {0x7ff7a2393538, 0x7ff7a2db0140}, 0x0, 0x7ff7a221d998)\n\tC:/Dev/Projects/cryptoutil/internal/kms/server/repository/sqlrepository/sql_transaction.go:81 +0x64f\ncryptoutil/internal/kms/server/repository/sqlrepository.TestWithTransaction_PanicRecovery(0xc000266a80)\n\tC:/Dev/Projects/cryptoutil/internal/kms/server/repository/sqlrepository/sql_initialization_test.go:146 +0x10a\ntesting.tRunner(0xc000266a80, 0x7ff7a221d588)\n\tC:/Program Files/Go/src/testing/testing.go:1934 +0xc3\ncreated by testing.(*T).Run in goroutine 1\n\tC:/Program Files/Go/src/testing/testing.go:1997 +0x44b\n"
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
time=2025-12-13T03:14:00.082-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=sql_transaction_panic service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.082-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=sql_transaction_panic service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.082-05:00 level=WARN msg="rolled back transaction" deployment.id=dev host.name=localhost service.name=sql_transaction_func_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-1992-716c-b5ac-8e9c902c7806 readOnly=false
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.082-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=sql_transaction_func_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.082-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=sql_transaction_func_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.082-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.082-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.082-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=sql_transaction_panic service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0093286 flush=0
Table: barrier_intermediate_keys
time=2025-12-13T03:14:00.082-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=sql_transaction_func_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0100501 flush=0
SQLite Schema:
Table: schema_migrations
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
time=2025-12-13T03:14:00.082-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=sql_transaction_panic service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0093286 flush=0
time=2025-12-13T03:14:00.082-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=sql_transaction_func_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0100501 flush=0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: barrier_content_keys
Table: material_keys
Table: material_keys
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.083-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=TestSQLRepository_Shutdown_Isolated_019b16c6-1989-7cf3-92f5-d419b3eec5b2 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.083-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=TestSQLRepository_Shutdown_Isolated_019b16c6-1989-7cf3-92f5-d419b3eec5b2 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
SQLite Schema:
Table: schema_migrations
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.085-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=TestCreateGormDB_SQLite_019b16c6-198e-7693-a71c-1270bda2e7d5 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.085-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=TestCreateGormDB_SQLite_019b16c6-198e-7693-a71c-1270bda2e7d5 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.085-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=TestCreateGormDB_SQLite_019b16c6-198e-7693-a71c-1270bda2e7d5 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0073246 flush=0
Table: barrier_content_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.086-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=TestCreateGormDB_SQLite_019b16c6-198e-7693-a71c-1270bda2e7d5 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0078779 flush=0
time=2025-12-13T03:14:00.086-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.087-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.084-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=ping_retry_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.087-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=ping_retry_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.087-05:00 level=DEBUG msg="shutting down telemetry providers" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0064673
time=2025-12-13T03:14:00.087-05:00 level=DEBUG msg="traces provider force flushing" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0064673
time=2025-12-13T03:14:00.084-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=TestCreateGormDB_UnsupportedType_019b16c6-1992-79d9-bee9-bee2ddc2cd5a service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.087-05:00 level=DEBUG msg="traces provider force flushed" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0064673 flush=0
time=2025-12-13T03:14:00.087-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=TestCreateGormDB_UnsupportedType_019b16c6-1992-79d9-bee9-bee2ddc2cd5a service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.087-05:00 level=DEBUG msg="metrics provider force flushing" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0064673
time=2025-12-13T03:14:00.087-05:00 level=DEBUG msg="metrics provider force flushed" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0064673 flush=0
time=2025-12-13T03:14:00.087-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=TestCreateGormDB_UnsupportedType_019b16c6-1992-79d9-bee9-bee2ddc2cd5a service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.087-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=ping_retry_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.087-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=TestCreateGormDB_UnsupportedType_019b16c6-1992-79d9-bee9-bee2ddc2cd5a service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.087-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=ping_retry_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.087-05:00 level=DEBUG msg="running in production mode, using PostgreSQL database" deployment.id=dev host.name=localhost service.name=ping_retry_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.087-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=ping_retry_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.087-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=ping_retry_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:00.087-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=TestCreateGormDB_UnsupportedType_019b16c6-1992-79d9-bee9-bee2ddc2cd5a service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.004694 flush=0
time=2025-12-13T03:14:00.083-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=TestSQLRepository_Shutdown_Isolated_019b16c6-1989-7cf3-92f5-d419b3eec5b2 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0098661 flush=0.0005519
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.087-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=TestCreateGormDB_UnsupportedType_019b16c6-1992-79d9-bee9-bee2ddc2cd5a service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0052023 flush=0
time=2025-12-13T03:14:00.087-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=TestSQLRepository_Shutdown_Isolated_019b16c6-1989-7cf3-92f5-d419b3eec5b2 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0139991 flush=0
Table: material_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.088-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=sql_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.088-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=sql_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.087-05:00 level=DEBUG msg="logs provider force flushing" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0064673
time=2025-12-13T03:14:00.088-05:00 level=DEBUG msg="logs provider force flushed" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0080326 flush=0.0005318
time=2025-12-13T03:14:00.088-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=shutdown_closed_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.088-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=shutdown_closed_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.088-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0080326 flush=0.0015653
time=2025-12-13T03:14:00.088-05:00 level=DEBUG msg="traces provider shutting down" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0080326
time=2025-12-13T03:14:00.088-05:00 level=DEBUG msg="traces provider shut down" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0080326 flush=0
time=2025-12-13T03:14:00.088-05:00 level=DEBUG msg="metrics provider shutting down" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0080326
time=2025-12-13T03:14:00.088-05:00 level=DEBUG msg="metrics provider shut down" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0080326 flush=0
time=2025-12-13T03:14:00.088-05:00 level=DEBUG msg="logs provider shutting down" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0080326
time=2025-12-13T03:14:00.088-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=sql_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0109984 flush=0.0005318
time=2025-12-13T03:14:00.088-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=shutdown_closed_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.088-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=shutdown_closed_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.088-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=TestHealthCheck_AfterShutdown_019b16c6-1996-74b5-926c-b5a924b2c653 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.088-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=sql_schema_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0109984 flush=0
time=2025-12-13T03:14:00.088-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=shutdown_closed_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.088-05:00 level=DEBUG msg="logs provider shut down" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0080326 flush=0
time=2025-12-13T03:14:00.088-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=TestHealthCheck_AfterShutdown_019b16c6-1996-74b5-926c-b5a924b2c653 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.088-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=dbstats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0080326 flush=0
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-1998-7dce-8695-789cfed25a8e readOnly=false
time=2025-12-13T03:14:00.088-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=shutdown_closed_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_VerboseMode_019b16c6-1997-7cef-b6c7-5dce6db787dc service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=invalid_container_mode service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.089-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=invalid_container_mode service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.089-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_VerboseMode_019b16c6-1997-7cef-b6c7-5dce6db787dc service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=invalid_container_mode service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_VerboseMode_019b16c6-1997-7cef-b6c7-5dce6db787dc service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.088-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=TestHealthCheck_AfterShutdown_019b16c6-1996-74b5-926c-b5a924b2c653 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=invalid_container_mode service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=shutdown_closed_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0128137 flush=0
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=TestHealthCheck_AfterShutdown_019b16c6-1996-74b5-926c-b5a924b2c653 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_VerboseMode_019b16c6-1997-7cef-b6c7-5dce6db787dc service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_VerboseMode_019b16c6-1997-7cef-b6c7-5dce6db787dc service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=invalid_container_mode service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-1998-7dce-8695-789cfed25a8e readOnly=false
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=shutdown_closed_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0128137 flush=0
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_VerboseMode_019b16c6-1997-7cef-b6c7-5dce6db787dc service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="initializing otel logs provider" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=TestHealthCheck_AfterShutdown_019b16c6-1996-74b5-926c-b5a924b2c653 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=TestHealthCheck_AfterShutdown_019b16c6-1996-74b5-926c-b5a924b2c653 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=TestHealthCheck_AfterShutdown_019b16c6-1996-74b5-926c-b5a924b2c653 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=invalid_container_mode service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0015825 flush=0
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_VerboseMode_019b16c6-1997-7cef-b6c7-5dce6db787dc service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=invalid_container_mode service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0015825 flush=0
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=sql_init_nil_ctx service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.089-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=sql_init_nil_ctx service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=sql_init_nil_ctx service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=sql_init_nil_ctx service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.089-05:00 level=INFO msg="DB Pool Settings" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_VerboseMode_019b16c6-1997-7cef-b6c7-5dce6db787dc service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 maxOpenConnections=1 openConnections=1 idle=1 isUse=0 waitCount=0 waitDuration=0s maxIdleClosed=0 maxIdleTimeClosed=0 maxLifetimeClosed=0
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_NilSettings_019b16c6-1999-7692-b302-8e499ec72cc9 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.089-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_NilSettings_019b16c6-1999-7692-b302-8e499ec72cc9 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=TestHealthCheck_AfterShutdown_019b16c6-1996-74b5-926c-b5a924b2c653 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_VerboseMode_019b16c6-1997-7cef-b6c7-5dce6db787dc service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=TestHealthCheck_AfterShutdown_019b16c6-1996-74b5-926c-b5a924b2c653 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=TestHealthCheck_AfterShutdown_019b16c6-1996-74b5-926c-b5a924b2c653 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_NilSettings_019b16c6-1999-7692-b302-8e499ec72cc9 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=sql_init_nil_ctx service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.000526 flush=0
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_VerboseMode_019b16c6-1997-7cef-b6c7-5dce6db787dc service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_VerboseMode_019b16c6-1997-7cef-b6c7-5dce6db787dc service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_NilSettings_019b16c6-1999-7692-b302-8e499ec72cc9 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=sql_init_nil_ctx service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.000526 flush=0
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=TestHealthCheck_019b16c6-1999-7e97-b89c-5faefe37b5ca service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.089-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=TestHealthCheck_019b16c6-1999-7e97-b89c-5faefe37b5ca service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=TestHealthCheck_AfterShutdown_019b16c6-1996-74b5-926c-b5a924b2c653 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=TestHealthCheck_AfterShutdown_019b16c6-1996-74b5-926c-b5a924b2c653 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.089-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=TestHealthCheck_019b16c6-1999-7e97-b89c-5faefe37b5ca service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.090-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=TestHealthCheck_019b16c6-1999-7e97-b89c-5faefe37b5ca service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.090-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=TestHealthCheck_019b16c6-1999-7e97-b89c-5faefe37b5ca service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.090-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_VerboseMode_019b16c6-1997-7cef-b6c7-5dce6db787dc service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.090-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=TestHealthCheck_019b16c6-1999-7e97-b89c-5faefe37b5ca service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.090-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_VerboseMode_019b16c6-1997-7cef-b6c7-5dce6db787dc service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.090-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=TestHealthCheck_019b16c6-1999-7e97-b89c-5faefe37b5ca service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
SQLite Schema:
Table: schema_migrations
time=2025-12-13T03:14:00.090-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_NilSettings_019b16c6-1999-7692-b302-8e499ec72cc9 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0010545 flush=0.0005285
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
SQLite Schema:
Table: schema_migrations
Table: barrier_content_keys
time=2025-12-13T03:14:00.090-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_NilSettings_019b16c6-1999-7692-b302-8e499ec72cc9 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0010545 flush=0
time=2025-12-13T03:14:00.090-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.090-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.090-05:00 level=DEBUG msg="initializing metrics provider" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.090-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=TestHealthCheck_019b16c6-1999-7e97-b89c-5faefe37b5ca service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.090-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.090-05:00 level=DEBUG msg="initializing traces provider" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.090-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.090-05:00 level=DEBUG msg="sample parent trace and span" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 traceid=ac14102c2e94d9b861f0c9eca32d6569 traceid=efaa10ebc690163e
time=2025-12-13T03:14:00.090-05:00 level=DEBUG msg="sample child trace and span" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 traceid=ac14102c2e94d9b861f0c9eca32d6569 traceid=e9ecee7729a91c1e
Table: barrier_intermediate_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
time=2025-12-13T03:14:00.090-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
time=2025-12-13T03:14:00.090-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=TestHealthCheck_019b16c6-1999-7e97-b89c-5faefe37b5ca service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.091-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=TestHealthCheck_019b16c6-1999-7e97-b89c-5faefe37b5ca service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_content_keys
time=2025-12-13T03:14:00.091-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.091-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.091-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=TestHealthCheck_019b16c6-1999-7e97-b89c-5faefe37b5ca service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
Table: elastic_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
time=2025-12-13T03:14:00.091-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=TestHealthCheck_019b16c6-1999-7e97-b89c-5faefe37b5ca service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.091-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=postgres_container_required service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.091-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=postgres_container_required service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.091-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=postgres_container_required service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.091-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=postgres_container_required service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
SQLite Schema:
Table: schema_migrations
time=2025-12-13T03:14:00.091-05:00 level=DEBUG msg="running in production mode, using PostgreSQL database" deployment.id=dev host.name=localhost service.name=postgres_container_required service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.091-05:00 level=INFO msg="DB Pool Settings" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 maxOpenConnections=1 openConnections=1 idle=1 isUse=0 waitCount=0 waitDuration=0s maxIdleClosed=0 maxIdleTimeClosed=0 maxLifetimeClosed=0
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.091-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.091-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.091-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_content_keys
Table: material_keys
time=2025-12-13T03:14:00.091-05:00 level=DEBUG msg="container mode is required, trying to start a container" deployment.id=dev host.name=localhost service.name=postgres_container_required service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.091-05:00 level=DEBUG msg="containerMode is not disabled, so trying to start a container" deployment.id=dev host.name=localhost service.name=postgres_container_required service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 dbType=pgx containerMode=required
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.091-05:00 level=DEBUG msg="starting container" deployment.id=dev host.name=localhost service.name=postgres_container_required service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
Table: barrier_intermediate_keys
Table: barrier_intermediate_keys
time=2025-12-13T03:14:00.092-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=shutdown_multiple_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.092-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=shutdown_multiple_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.092-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=shutdown_multiple_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.092-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=shutdown_multiple_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.092-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=shutdown_multiple_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.092-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=shutdown_multiple_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.092-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=shutdown_multiple_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:00.092-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.092-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
SQLite Schema:
Table: schema_migrations
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: barrier_content_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.093-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_VerboseMode_019b16c6-1997-7cef-b6c7-5dce6db787dc service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.093-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_VerboseMode_019b16c6-1997-7cef-b6c7-5dce6db787dc service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
Table: barrier_root_keys
Table: barrier_root_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
time=2025-12-13T03:14:00.093-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=TestHealthCheck_AfterShutdown_019b16c6-1996-74b5-926c-b5a924b2c653 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.093-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_VerboseMode_019b16c6-1997-7cef-b6c7-5dce6db787dc service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0060903 flush=0
time=2025-12-13T03:14:00.093-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=TestHealthCheck_AfterShutdown_019b16c6-1996-74b5-926c-b5a924b2c653 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.093-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_VerboseMode_019b16c6-1997-7cef-b6c7-5dce6db787dc service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0060903 flush=0
time=2025-12-13T03:14:00.094-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=shutdown_multiple_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.094-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=shutdown_multiple_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.094-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=shutdown_multiple_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:00.094-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-199e-7762-b56c-19065d84f3db readOnly=false
Table: elastic_keys
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.094-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=TestHealthCheck_AfterShutdown_019b16c6-1996-74b5-926c-b5a924b2c653 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0081753 flush=0
time=2025-12-13T03:14:00.094-05:00 level=ERROR msg="transaction function failed" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-199e-7762-b56c-19065d84f3db readOnly=false error="intentional failure"
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
time=2025-12-13T03:14:00.094-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=TestHealthCheck_AfterShutdown_019b16c6-1996-74b5-926c-b5a924b2c653 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0081753 flush=0
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.094-05:00 level=WARN msg="rolled back transaction" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-199e-7762-b56c-19065d84f3db readOnly=false
time=2025-12-13T03:14:00.094-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=shutdown_multiple_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.094-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=shutdown_multiple_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
Table: material_keys
SQLite Schema:
Table: schema_migrations
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: barrier_content_keys
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=TestWithTransaction_ContextCancelled_019b16c6-199e-7763-a9c4-818fa8ccdbc7 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
time=2025-12-13T03:14:00.095-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=TestWithTransaction_ContextCancelled_019b16c6-199e-7763-a9c4-818fa8ccdbc7 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=pool_exhaustion_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=TestWithTransaction_ContextCancelled_019b16c6-199e-7763-a9c4-818fa8ccdbc7 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.095-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=pool_exhaustion_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=TestWithTransaction_ContextCancelled_019b16c6-199e-7763-a9c4-818fa8ccdbc7 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=TestWithTransaction_ContextCancelled_019b16c6-199e-7763-a9c4-818fa8ccdbc7 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=TestWithTransaction_ContextCancelled_019b16c6-199e-7763-a9c4-818fa8ccdbc7 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=pool_exhaustion_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="shutting down telemetry providers" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0055754
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=pool_exhaustion_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=TestWithTransaction_ContextCancelled_019b16c6-199e-7763-a9c4-818fa8ccdbc7 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="traces provider force flushing" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0055754
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="traces provider force flushed" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0055754 flush=0
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=pool_exhaustion_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=pool_exhaustion_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=pool_exhaustion_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="metrics provider force flushing" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0055754
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="metrics provider force flushed" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0055754 flush=0
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="logs provider force flushing" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0055754
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=TestHealthCheck_019b16c6-1999-7e97-b89c-5faefe37b5ca service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=TestWithTransaction_ContextCancelled_019b16c6-199e-7763-a9c4-818fa8ccdbc7 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
Table: material_keys
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=TestWithTransaction_ContextCancelled_019b16c6-199e-7763-a9c4-818fa8ccdbc7 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=TestWithTransaction_ContextCancelled_019b16c6-199e-7763-a9c4-818fa8ccdbc7 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=pool_exhaustion_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=pool_exhaustion_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=TestHealthCheck_019b16c6-1999-7e97-b89c-5faefe37b5ca service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="logs provider force flushed" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0055754 flush=0
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0055754 flush=0
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="traces provider shutting down" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0055754
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=pool_exhaustion_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="traces provider shut down" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0055754 flush=0
time=2025-12-13T03:14:00.096-05:00 level=DEBUG msg="metrics provider shutting down" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0074432
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.095-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=TestWithTransaction_ContextCancelled_019b16c6-199e-7763-a9c4-818fa8ccdbc7 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.096-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=TestHealthCheck_019b16c6-1999-7e97-b89c-5faefe37b5ca service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0069172 flush=0.0018678
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.096-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=TestWithTransaction_ContextCancelled_019b16c6-199e-7763-a9c4-818fa8ccdbc7 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.096-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=pool_exhaustion_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.096-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=TestHealthCheck_019b16c6-1999-7e97-b89c-5faefe37b5ca service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0069172 flush=0
time=2025-12-13T03:14:00.096-05:00 level=DEBUG msg="metrics provider shut down" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0074432 flush=0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.096-05:00 level=DEBUG msg="logs provider shutting down" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0074432
time=2025-12-13T03:14:00.096-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=pool_exhaustion_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
SQLite Schema:
time=2025-12-13T03:14:00.096-05:00 level=DEBUG msg="logs provider shut down" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0074432 flush=0
Table: schema_migrations
SQLite Schema:
Table: schema_migrations
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.096-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=shutdown_multiple_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: barrier_content_keys
Table: barrier_content_keys
time=2025-12-13T03:14:00.096-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=pragma_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0074432 flush=0.0018678
time=2025-12-13T03:14:00.096-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=shutdown_multiple_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.096-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=shutdown_multiple_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.096-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=shutdown_multiple_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
Table: barrier_intermediate_keys
Table: barrier_intermediate_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
time=2025-12-13T03:14:00.097-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=shutdown_multiple_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0069433 flush=0.0005546
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
time=2025-12-13T03:14:00.097-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=shutdown_multiple_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0069433 flush=0
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
time=2025-12-13T03:14:00.097-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=rollback_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.097-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=rollback_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.097-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=rollback_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.097-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=rollback_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.097-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=rollback_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.097-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=rollback_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.097-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=rollback_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.097-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilContext_019b16c6-19a0-7d55-a3f4-c40de1f09b79 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.097-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilContext_019b16c6-19a0-7d55-a3f4-c40de1f09b79 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
Table: barrier_root_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
time=2025-12-13T03:14:00.097-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilContext_019b16c6-19a0-7d55-a3f4-c40de1f09b79 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
time=2025-12-13T03:14:00.097-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilContext_019b16c6-19a0-7d55-a3f4-c40de1f09b79 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.097-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=rollback_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.097-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=rollback_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.097-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=rollback_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.097-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilContext_019b16c6-19a0-7d55-a3f4-c40de1f09b79 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.097-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilContext_019b16c6-19a0-7d55-a3f4-c40de1f09b79 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.097-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilContext_019b16c6-19a0-7d55-a3f4-c40de1f09b79 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:00.097-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=sql_shutdown_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.097-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=sql_shutdown_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.097-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=rollback_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.097-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=rollback_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.097-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=sql_shutdown_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.097-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=sql_shutdown_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.097-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilContext_019b16c6-19a0-7d55-a3f4-c40de1f09b79 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
Table: elastic_keys
time=2025-12-13T03:14:00.097-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilContext_019b16c6-19a0-7d55-a3f4-c40de1f09b79 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.097-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=sql_shutdown_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.097-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=sql_shutdown_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
SQLite Schema:
Table: schema_migrations
time=2025-12-13T03:14:00.097-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilContext_019b16c6-19a0-7d55-a3f4-c40de1f09b79 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:00.097-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=sql_shutdown_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.098-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilContext_019b16c6-19a0-7d55-a3f4-c40de1f09b79 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.098-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilContext_019b16c6-19a0-7d55-a3f4-c40de1f09b79 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.098-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=pool_exhaustion_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19a2-7801-85d2-a5646dc10a0d readOnly=false
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: barrier_content_keys
time=2025-12-13T03:14:00.098-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=pool_exhaustion_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19a2-7801-85d2-a5646dc10a0d readOnly=false
time=2025-12-13T03:14:00.098-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=sql_shutdown_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.098-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=pool_exhaustion_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19a2-7802-8994-9aeb8eecc694 readOnly=false
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.098-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=sql_shutdown_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.098-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=sql_shutdown_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
Table: material_keys
time=2025-12-13T03:14:00.098-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=pool_exhaustion_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19a2-7802-8994-9aeb8eecc694 readOnly=false
time=2025-12-13T03:14:00.098-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=pool_exhaustion_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19a2-7803-8674-c6e4c407f6be readOnly=false
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.098-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=sql_shutdown_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.098-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=sql_shutdown_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
SQLite Schema:
Table: schema_migrations
time=2025-12-13T03:14:00.098-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=pool_exhaustion_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19a2-7803-8674-c6e4c407f6be readOnly=false
SQLite Schema:
Table: schema_migrations
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
time=2025-12-13T03:14:00.099-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=pool_exhaustion_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19a3-70fc-b421-74c3345ef895 readOnly=false
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: barrier_content_keys
time=2025-12-13T03:14:00.099-05:00 level=ERROR msg="failed to begin transaction" deployment.id=dev host.name=localhost service.name=TestWithTransaction_ContextCancelled_019b16c6-199e-7763-a9c4-818fa8ccdbc7 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19a3-70fd-bc2d-94f430ff5193 readOnly=false error="context canceled"
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: barrier_content_keys
Table: barrier_intermediate_keys
time=2025-12-13T03:14:00.099-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=pool_exhaustion_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19a3-70fc-b421-74c3345ef895 readOnly=false
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.099-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=pool_exhaustion_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19a3-70fe-9d14-ad040837353b readOnly=false
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.099-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=pool_exhaustion_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19a3-70fe-9d14-ad040837353b readOnly=false
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
time=2025-12-13T03:14:00.099-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=pool_exhaustion_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.099-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=pool_exhaustion_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
Table: barrier_root_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
time=2025-12-13T03:14:00.099-05:00 level=ERROR msg="failed to begin transaction" deployment.id=dev host.name=localhost service.name=TestWithTransaction_ContextCancelled_019b16c6-199e-7763-a9c4-818fa8ccdbc7 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 error="failed to begin transaction: context canceled"
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
time=2025-12-13T03:14:00.099-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=TestWithTransaction_ContextCancelled_019b16c6-199e-7763-a9c4-818fa8ccdbc7 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.099-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=TestWithTransaction_ContextCancelled_019b16c6-199e-7763-a9c4-818fa8ccdbc7 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.099-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=pool_exhaustion_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.005124 flush=0
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
Table: elastic_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.100-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=TestWithTransaction_ContextCancelled_019b16c6-199e-7763-a9c4-818fa8ccdbc7 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0056485 flush=0.0005245
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
time=2025-12-13T03:14:00.100-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=TestWithTransaction_ContextCancelled_019b16c6-199e-7763-a9c4-818fa8ccdbc7 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0056485 flush=0
time=2025-12-13T03:14:00.100-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=pool_exhaustion_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.005124 flush=0
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.100-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=sql_shutdown_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.100-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=sql_shutdown_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.100-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=rollback_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19a4-7c59-8faf-0868c17421b5 readOnly=false
time=2025-12-13T03:14:00.100-05:00 level=ERROR msg="transaction function failed" deployment.id=dev host.name=localhost service.name=rollback_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19a4-7c59-8faf-0868c17421b5 readOnly=false error="sql: no rows in result set"
time=2025-12-13T03:14:00.100-05:00 level=WARN msg="rolled back transaction" deployment.id=dev host.name=localhost service.name=rollback_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19a4-7c59-8faf-0868c17421b5 readOnly=false
time=2025-12-13T03:14:00.100-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=rollback_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.100-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=rollback_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.101-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_ContainerModeInvalid_019b16c6-19a4-7205-8093-8c63a1d58b00 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.101-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_ContainerModeInvalid_019b16c6-19a4-7205-8093-8c63a1d58b00 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.101-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_ContainerModeInvalid_019b16c6-19a4-7205-8093-8c63a1d58b00 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.101-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_ContainerModeInvalid_019b16c6-19a4-7205-8093-8c63a1d58b00 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.101-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_ContainerModeInvalid_019b16c6-19a4-7205-8093-8c63a1d58b00 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.102-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_ContainerModeInvalid_019b16c6-19a4-7205-8093-8c63a1d58b00 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0027207 flush=0.0015244
Table: material_keys
time=2025-12-13T03:14:00.103-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=sql_shutdown_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0059337 flush=0.0032294
time=2025-12-13T03:14:00.103-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_ContainerModeInvalid_019b16c6-19a4-7205-8093-8c63a1d58b00 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0037857 flush=0
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.103-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=sql_shutdown_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.00649 flush=0
time=2025-12-13T03:14:00.104-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilContext_019b16c6-19a0-7d55-a3f4-c40de1f09b79 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.104-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilContext_019b16c6-19a0-7d55-a3f4-c40de1f09b79 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.104-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=rollback_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0081102 flush=0.0041743
time=2025-12-13T03:14:00.104-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=sql_transaction_readonly_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.104-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=sql_transaction_readonly_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.104-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=rollback_error_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0081102 flush=0
time=2025-12-13T03:14:00.104-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=sql_transaction_readonly_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.105-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilContext_019b16c6-19a0-7d55-a3f4-c40de1f09b79 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.008643 flush=0.0010723
time=2025-12-13T03:14:00.105-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=sql_transaction_readonly_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.105-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=sql_transaction_readonly_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.105-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=sql_transaction_readonly_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.105-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=sql_transaction_readonly_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:00.105-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilContext_019b16c6-19a0-7d55-a3f4-c40de1f09b79 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.008643 flush=0
time=2025-12-13T03:14:00.105-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=TestGetDBType_SQLite_019b16c6-19a8-76c7-a960-9cba02603028 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.105-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=TestGetDBType_SQLite_019b16c6-19a8-76c7-a960-9cba02603028 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.105-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=TestGetDBType_SQLite_019b16c6-19a8-76c7-a960-9cba02603028 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.105-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=TestGetDBType_SQLite_019b16c6-19a8-76c7-a960-9cba02603028 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=TestGetDBType_SQLite_019b16c6-19a8-76c7-a960-9cba02603028 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=TestGetDBType_SQLite_019b16c6-19a8-76c7-a960-9cba02603028 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=TestGetDBType_SQLite_019b16c6-19a8-76c7-a960-9cba02603028 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Panic_019b16c6-19a9-77e1-8afb-bd8d624510ae service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.106-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Panic_019b16c6-19a9-77e1-8afb-bd8d624510ae service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.105-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=healthcheck_ping_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Panic_019b16c6-19a9-77e1-8afb-bd8d624510ae service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=TestGetDBType_SQLite_019b16c6-19a8-76c7-a960-9cba02603028 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=TestGetDBType_SQLite_019b16c6-19a8-76c7-a960-9cba02603028 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Panic_019b16c6-19a9-77e1-8afb-bd8d624510ae service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Panic_019b16c6-19a9-77e1-8afb-bd8d624510ae service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.106-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=healthcheck_ping_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=TestGetDBType_SQLite_019b16c6-19a8-76c7-a960-9cba02603028 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.106-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=sql_transaction_readonly_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=sql_transaction_readonly_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=sql_transaction_readonly_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=TestGetDBType_SQLite_019b16c6-19a8-76c7-a960-9cba02603028 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=TestGetDBType_SQLite_019b16c6-19a8-76c7-a960-9cba02603028 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Panic_019b16c6-19a9-77e1-8afb-bd8d624510ae service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=healthcheck_ping_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=healthcheck_ping_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=healthcheck_ping_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=healthcheck_ping_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=healthcheck_ping_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Panic_019b16c6-19a9-77e1-8afb-bd8d624510ae service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=sql_transaction_readonly_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=sql_transaction_readonly_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
SQLite Schema:
Table: schema_migrations
SQLite Schema:
Table: schema_migrations
time=2025-12-13T03:14:00.106-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=healthcheck_ping_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.107-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=healthcheck_ping_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.107-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=healthcheck_ping_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:00.107-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Panic_019b16c6-19a9-77e1-8afb-bd8d624510ae service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.107-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Panic_019b16c6-19a9-77e1-8afb-bd8d624510ae service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.107-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Panic_019b16c6-19a9-77e1-8afb-bd8d624510ae service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.107-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.107-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.107-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: barrier_content_keys
time=2025-12-13T03:14:00.107-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.107-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.107-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Panic_019b16c6-19a9-77e1-8afb-bd8d624510ae service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.107-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Panic_019b16c6-19a9-77e1-8afb-bd8d624510ae service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: barrier_content_keys
time=2025-12-13T03:14:00.107-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=healthcheck_ping_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.107-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=healthcheck_ping_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
SQLite Schema:
Table: schema_migrations
SQLite Schema:
Table: schema_migrations
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: barrier_content_keys
SQLite Schema:
Table: schema_migrations
Table: barrier_intermediate_keys
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: barrier_content_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: barrier_content_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
Table: barrier_intermediate_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
Table: barrier_root_keys
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
Table: elastic_keys
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
Table: elastic_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
Table: material_keys
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.109-05:00 level=WARN msg="database doesn't support read-only transactions" deployment.id=dev host.name=localhost service.name=sql_transaction_readonly_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 dbType=sqlite
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
Table: material_keys
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.109-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=sql_transaction_readonly_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.109-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=sql_transaction_readonly_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.109-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=TestGetDBType_SQLite_019b16c6-19a8-76c7-a960-9cba02603028 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.109-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=TestGetDBType_SQLite_019b16c6-19a8-76c7-a960-9cba02603028 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.109-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=TestGetDBType_SQLite_019b16c6-19a8-76c7-a960-9cba02603028 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.005403 flush=0
time=2025-12-13T03:14:00.109-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19ad-7ced-9afc-381c2f9a4f41 readOnly=false
time=2025-12-13T03:14:00.109-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19ad-7ced-9afc-381c2f9a4f41 readOnly=false
time=2025-12-13T03:14:00.109-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=TestGetDBType_SQLite_019b16c6-19a8-76c7-a960-9cba02603028 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.005403 flush=0
time=2025-12-13T03:14:00.109-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19ad-7cee-bed6-519496650308 readOnly=false
time=2025-12-13T03:14:00.110-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19ad-7cee-bed6-519496650308 readOnly=false
time=2025-12-13T03:14:00.110-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19ae-75c2-85b1-99ac58ab31b8 readOnly=false
time=2025-12-13T03:14:00.110-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19ae-75c2-85b1-99ac58ab31b8 readOnly=false
time=2025-12-13T03:14:00.110-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19ae-75c3-b312-69f73a7e1440 readOnly=false
time=2025-12-13T03:14:00.110-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19ae-75c3-b312-69f73a7e1440 readOnly=false
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
time=2025-12-13T03:14:00.110-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19ae-75c4-846b-90160d594085 readOnly=false
time=2025-12-13T03:14:00.110-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19ae-75c4-846b-90160d594085 readOnly=false
time=2025-12-13T03:14:00.110-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19ae-75c5-b7cb-33ec4277166f readOnly=false
time=2025-12-13T03:14:00.110-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19ae-75c5-b7cb-33ec4277166f readOnly=false
time=2025-12-13T03:14:00.110-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19ae-75c6-8a5e-6ce93f901f60 readOnly=false
time=2025-12-13T03:14:00.110-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19ae-75c6-8a5e-6ce93f901f60 readOnly=false
time=2025-12-13T03:14:00.110-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19ae-75c7-af70-7d39785ee2a1 readOnly=false
time=2025-12-13T03:14:00.110-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19ae-75c7-af70-7d39785ee2a1 readOnly=false
time=2025-12-13T03:14:00.110-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19ae-75c8-833c-632af487c65d readOnly=false
time=2025-12-13T03:14:00.110-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19ae-75c8-833c-632af487c65d readOnly=false
time=2025-12-13T03:14:00.110-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19ae-75c9-a38d-236464048c38 readOnly=false
time=2025-12-13T03:14:00.110-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19ae-75c9-a38d-236464048c38 readOnly=false
time=2025-12-13T03:14:00.110-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19ae-75ca-8921-b1b4e0b1cacb readOnly=false
time=2025-12-13T03:14:00.110-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19ae-75ca-8921-b1b4e0b1cacb readOnly=false
time=2025-12-13T03:14:00.110-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19ae-75cb-80de-3be45cb979b7 readOnly=false
time=2025-12-13T03:14:00.110-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19ae-75cb-80de-3be45cb979b7 readOnly=false
time=2025-12-13T03:14:00.110-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19ae-7f16-94f3-f986db979e8b readOnly=false
time=2025-12-13T03:14:00.110-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19ae-7f16-94f3-f986db979e8b readOnly=false
time=2025-12-13T03:14:00.110-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19ae-7f17-8a22-27e56a7d1813 readOnly=false
time=2025-12-13T03:14:00.110-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=nil_ctx_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.110-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=nil_ctx_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.110-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=nil_ctx_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.110-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=nil_ctx_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.111-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Panic_019b16c6-19a9-77e1-8afb-bd8d624510ae service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19af-7796-bd99-d2c5cdfe1a21 readOnly=false
time=2025-12-13T03:14:00.111-05:00 level=WARN msg="rolled back transaction" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Panic_019b16c6-19a9-77e1-8afb-bd8d624510ae service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19af-7796-bd99-d2c5cdfe1a21 readOnly=false
time=2025-12-13T03:14:00.111-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=nil_ctx_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0011199 flush=0
time=2025-12-13T03:14:00.111-05:00 level=ERROR msg="panic occurred during transaction" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Panic_019b16c6-19a9-77e1-8afb-bd8d624510ae service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=<nil> readOnly=false panic="intentional test panic" stack="goroutine 52 [running]:\nruntime/debug.Stack()\n\tC:/Program Files/Go/src/runtime/debug/stack.go:26 +0x5e\ncryptoutil/internal/kms/server/repository/sqlrepository.(*SQLRepository).WithTransaction.func1()\n\tC:/Dev/Projects/cryptoutil/internal/kms/server/repository/sqlrepository/sql_transaction.go:76 +0x32a\npanic({0x7ff7a1f85320?, 0x7ff7a237e0b0?})\n\tC:/Program Files/Go/src/runtime/panic.go:783 +0x132\ncryptoutil/internal/kms/server/repository/sqlrepository_test.TestWithTransaction_Panic.func1.1(0xc000376090?)\n\tC:/Dev/Projects/cryptoutil/internal/kms/server/repository/sqlrepository/sql_transaction_edge_test.go:91 +0x25\ncryptoutil/internal/kms/server/repository/sqlrepository.(*SQLRepository).WithTransaction(0xc000108080, {0x7ff7a2393538, 0x7ff7a2db0140}, 0x0, 0x7ff7a221da50)\n\tC:/Dev/Projects/cryptoutil/internal/kms/server/repository/sqlrepository/sql_transaction.go:81 +0x64f\ncryptoutil/internal/kms/server/repository/sqlrepository_test.TestWithTransaction_Panic.func1()\n\tC:/Dev/Projects/cryptoutil/internal/kms/server/repository/sqlrepository/sql_transaction_edge_test.go:90 +0x28\ngithub.com/stretchr/testify/assert.didPanic(0x7ff7a2d2a990?)\n\tR:/temp/go-mod-cache/github.com/stretchr/testify@v1.11.1/assert/assertions.go:1291 +0x70\ngithub.com/stretchr/testify/assert.Panics({0x23a7198cba0, 0xc0001ca8c0}, 0xc00150c040, {0x0, 0x0, 0x0})\n\tR:/temp/go-mod-cache/github.com/stretchr/testify@v1.11.1/assert/assertions.go:1305 +0x73\ngithub.com/stretchr/testify/require.Panics({0x7ff7a238b180, 0xc0001ca8c0}, 0xc00150c040, {0x0, 0x0, 0x0})\n\tR:/temp/go-mod-cache/github.com/stretchr/testify@v1.11.1/require/require.go:1857 +0xa6\ncryptoutil/internal/kms/server/repository/sqlrepository_test.TestWithTransaction_Panic(0xc0001ca8c0)\n\tC:/Dev/Projects/cryptoutil/internal/kms/server/repository/sqlrepository/sql_transaction_edge_test.go:89 +0x1c8\ntesting.tRunner(0xc0001ca8c0, 0x7ff7a221d7a8)\n\tC:/Program Files/Go/src/testing/testing.go:1934 +0xc3\ncreated by testing.(*T).Run in goroutine 1\n\tC:/Program Files/Go/src/testing/testing.go:1997 +0x44b\n"
time=2025-12-13T03:14:00.110-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19ae-7f17-8a22-27e56a7d1813 readOnly=false
time=2025-12-13T03:14:00.111-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19af-7797-8c24-369d04559370 readOnly=false
time=2025-12-13T03:14:00.111-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19af-7797-8c24-369d04559370 readOnly=false
time=2025-12-13T03:14:00.111-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19af-7798-bf4b-0eedf22c5c08 readOnly=false
time=2025-12-13T03:14:00.111-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19af-7798-bf4b-0eedf22c5c08 readOnly=false
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.111-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19af-7799-85d4-f24cdf1213ca readOnly=false
time=2025-12-13T03:14:00.111-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Panic_019b16c6-19a9-77e1-8afb-bd8d624510ae service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.111-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Panic_019b16c6-19a9-77e1-8afb-bd8d624510ae service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.111-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=nil_ctx_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0011199 flush=0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.112-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=healthcheck_ping_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.112-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=healthcheck_ping_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.109-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=sql_transaction_readonly_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0069941 flush=0
time=2025-12-13T03:14:00.112-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=sql_transaction_readonly_sqlite service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0099282 flush=0
time=2025-12-13T03:14:00.111-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19af-7799-85d4-f24cdf1213ca readOnly=false
time=2025-12-13T03:14:00.113-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Panic_019b16c6-19a9-77e1-8afb-bd8d624510ae service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0079755 flush=0.0019948
time=2025-12-13T03:14:00.115-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=temp service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.115-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=temp service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.115-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Panic_019b16c6-19a9-77e1-8afb-bd8d624510ae service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0096318 flush=0
time=2025-12-13T03:14:00.115-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=temp service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.115-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=temp service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.115-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=temp service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.002875 flush=0.000508
time=2025-12-13T03:14:00.115-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19b3-7243-ae8f-59331725b368 readOnly=false
time=2025-12-13T03:14:00.115-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19b3-7243-ae8f-59331725b368 readOnly=false
time=2025-12-13T03:14:00.115-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19b3-7a03-b28f-ed19fee715e9 readOnly=false
time=2025-12-13T03:14:00.115-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19b3-7a03-b28f-ed19fee715e9 readOnly=false
time=2025-12-13T03:14:00.115-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19b3-7a04-9836-07a5b2aad3d6 readOnly=false
time=2025-12-13T03:14:00.115-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19b3-7a04-9836-07a5b2aad3d6 readOnly=false
time=2025-12-13T03:14:00.115-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.115-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.115-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0101398 flush=0
time=2025-12-13T03:14:00.115-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=postgres_container_preferred service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.116-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=postgres_container_preferred service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.116-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=postgres_container_preferred service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.116-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=postgres_container_preferred service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.116-05:00 level=DEBUG msg="running in production mode, using PostgreSQL database" deployment.id=dev host.name=localhost service.name=postgres_container_preferred service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.116-05:00 level=DEBUG msg="container mode is preferred, trying to start a container" deployment.id=dev host.name=localhost service.name=postgres_container_preferred service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.116-05:00 level=DEBUG msg="containerMode is not disabled, so trying to start a container" deployment.id=dev host.name=localhost service.name=postgres_container_preferred service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 dbType=pgx containerMode=preferred
time=2025-12-13T03:14:00.116-05:00 level=DEBUG msg="starting container" deployment.id=dev host.name=localhost service.name=postgres_container_preferred service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.115-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=temp service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.002875 flush=0
time=2025-12-13T03:14:00.115-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=sequential_transactions service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0101398 flush=0
time=2025-12-13T03:14:00.116-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=TestShutdown_MultipleCalls_019b16c6-19b3-7244-8ee2-058d8ed15c64 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.116-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=TestShutdown_MultipleCalls_019b16c6-19b3-7244-8ee2-058d8ed15c64 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.116-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=healthcheck_ping_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0123664 flush=0.0040293
time=2025-12-13T03:14:00.116-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=TestShutdown_MultipleCalls_019b16c6-19b3-7244-8ee2-058d8ed15c64 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.116-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=TestShutdown_MultipleCalls_019b16c6-19b3-7244-8ee2-058d8ed15c64 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.116-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=healthcheck_ping_error service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0123664 flush=0
time=2025-12-13T03:14:00.116-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=TestShutdown_MultipleCalls_019b16c6-19b3-7244-8ee2-058d8ed15c64 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.116-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=TestShutdown_MultipleCalls_019b16c6-19b3-7244-8ee2-058d8ed15c64 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.116-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=TestShutdown_MultipleCalls_019b16c6-19b3-7244-8ee2-058d8ed15c64 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:00.117-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Success_019b16c6-19b4-74a1-87ba-e0a8e5776234 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.117-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Success_019b16c6-19b4-74a1-87ba-e0a8e5776234 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.117-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Success_019b16c6-19b4-74a1-87ba-e0a8e5776234 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.117-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=TestShutdown_MultipleCalls_019b16c6-19b3-7244-8ee2-058d8ed15c64 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.117-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=TestShutdown_MultipleCalls_019b16c6-19b3-7244-8ee2-058d8ed15c64 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.117-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Success_019b16c6-19b4-74a1-87ba-e0a8e5776234 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.117-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Success_019b16c6-19b4-74a1-87ba-e0a8e5776234 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.117-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Success_019b16c6-19b4-74a1-87ba-e0a8e5776234 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.117-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Success_019b16c6-19b4-74a1-87ba-e0a8e5776234 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:00.117-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=TestShutdown_MultipleCalls_019b16c6-19b3-7244-8ee2-058d8ed15c64 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:00.117-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=TestWithTransaction_CommitError_019b16c6-19b4-7c5e-b375-0faa954de05a service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.117-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=empty_url_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.117-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=TestWithTransaction_CommitError_019b16c6-19b4-7c5e-b375-0faa954de05a service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.117-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=TestWithTransaction_CommitError_019b16c6-19b4-7c5e-b375-0faa954de05a service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.117-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Success_019b16c6-19b4-74a1-87ba-e0a8e5776234 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.117-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Success_019b16c6-19b4-74a1-87ba-e0a8e5776234 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.117-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Success_019b16c6-19b4-74a1-87ba-e0a8e5776234 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:00.117-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=TestWithTransaction_CommitError_019b16c6-19b4-7c5e-b375-0faa954de05a service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.117-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=empty_url_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.117-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=empty_url_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.118-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=empty_url_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.118-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=TestShutdown_MultipleCalls_019b16c6-19b3-7244-8ee2-058d8ed15c64 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.118-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=TestShutdown_MultipleCalls_019b16c6-19b3-7244-8ee2-058d8ed15c64 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.118-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Success_019b16c6-19b4-74a1-87ba-e0a8e5776234 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.118-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Success_019b16c6-19b4-74a1-87ba-e0a8e5776234 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.118-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=empty_url_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0018697 flush=0
SQLite Schema:
Table: schema_migrations
SQLite Schema:
Table: schema_migrations
time=2025-12-13T03:14:00.117-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=TestWithTransaction_CommitError_019b16c6-19b4-7c5e-b375-0faa954de05a service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: barrier_content_keys
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: barrier_content_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.118-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=TestWithTransaction_CommitError_019b16c6-19b4-7c5e-b375-0faa954de05a service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.119-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=empty_url_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0032527 flush=0.0010525
Table: barrier_intermediate_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.119-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=TestWithTransaction_CommitError_019b16c6-19b4-7c5e-b375-0faa954de05a service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
Table: barrier_root_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.120-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=TestWithTransaction_CommitError_019b16c6-19b4-7c5e-b375-0faa954de05a service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.120-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=TestWithTransaction_CommitError_019b16c6-19b4-7c5e-b375-0faa954de05a service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.120-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=TestWithTransaction_CommitError_019b16c6-19b4-7c5e-b375-0faa954de05a service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.120-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=TestWithTransaction_CommitError_019b16c6-19b4-7c5e-b375-0faa954de05a service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.120-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=TestWithTransaction_CommitError_019b16c6-19b4-7c5e-b375-0faa954de05a service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
time=2025-12-13T03:14:00.120-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_ContainerModePreferred_019b16c6-19b7-787c-b67f-bbcba4aab82e service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.120-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_ContainerModePreferred_019b16c6-19b7-787c-b67f-bbcba4aab82e service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
SQLite Schema:
Table: schema_migrations
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
time=2025-12-13T03:14:00.120-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_ContainerModePreferred_019b16c6-19b7-787c-b67f-bbcba4aab82e service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: barrier_content_keys
time=2025-12-13T03:14:00.120-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_ContainerModePreferred_019b16c6-19b7-787c-b67f-bbcba4aab82e service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
Table: elastic_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.120-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_ContainerModePreferred_019b16c6-19b7-787c-b67f-bbcba4aab82e service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.120-05:00 level=DEBUG msg="container mode is preferred, trying to start a container" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_ContainerModePreferred_019b16c6-19b7-787c-b67f-bbcba4aab82e service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.120-05:00 level=DEBUG msg="containerMode is not disabled, so trying to start a container" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_ContainerModePreferred_019b16c6-19b7-787c-b67f-bbcba4aab82e service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 dbType=sqlite containerMode=preferred
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
time=2025-12-13T03:14:00.121-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_ContainerModePreferred_019b16c6-19b7-787c-b67f-bbcba4aab82e service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0015334 flush=0.001011
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
Table: elastic_keys
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.121-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Success_019b16c6-19b4-74a1-87ba-e0a8e5776234 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19b9-715d-a858-291f62345958 readOnly=false
time=2025-12-13T03:14:00.121-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Success_019b16c6-19b4-74a1-87ba-e0a8e5776234 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19b9-715d-a858-291f62345958 readOnly=false
time=2025-12-13T03:14:00.121-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_ContainerModePreferred_019b16c6-19b7-787c-b67f-bbcba4aab82e service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0015334 flush=0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.121-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=TestShutdown_MultipleCalls_019b16c6-19b3-7244-8ee2-058d8ed15c64 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.121-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Success_019b16c6-19b4-74a1-87ba-e0a8e5776234 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.121-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Success_019b16c6-19b4-74a1-87ba-e0a8e5776234 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.121-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=TestShutdown_MultipleCalls_019b16c6-19b3-7244-8ee2-058d8ed15c64 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
time=2025-12-13T03:14:00.121-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Success_019b16c6-19b4-74a1-87ba-e0a8e5776234 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0052932 flush=0
time=2025-12-13T03:14:00.121-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=TestShutdown_MultipleCalls_019b16c6-19b3-7244-8ee2-058d8ed15c64 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.121-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=TestShutdown_MultipleCalls_019b16c6-19b3-7244-8ee2-058d8ed15c64 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.122-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=TestShutdown_MultipleCalls_019b16c6-19b3-7244-8ee2-058d8ed15c64 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.122-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=TestWithTransaction_CommitError_019b16c6-19b4-7c5e-b375-0faa954de05a service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.121-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Success_019b16c6-19b4-74a1-87ba-e0a8e5776234 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0052932 flush=0
time=2025-12-13T03:14:00.122-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=TestShutdown_MultipleCalls_019b16c6-19b3-7244-8ee2-058d8ed15c64 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.122-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=TestWithTransaction_CommitError_019b16c6-19b4-7c5e-b375-0faa954de05a service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.122-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=error_ping_failed service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.122-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=error_ping_failed service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.122-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=TestShutdown_MultipleCalls_019b16c6-19b3-7244-8ee2-058d8ed15c64 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0069838 flush=0
time=2025-12-13T03:14:00.122-05:00 level=ERROR msg="failed to begin transaction" deployment.id=dev host.name=localhost service.name=TestWithTransaction_CommitError_019b16c6-19b4-7c5e-b375-0faa954de05a service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19ba-7205-a97a-880dd860a6b2 readOnly=false error="sql: database is closed"
time=2025-12-13T03:14:00.122-05:00 level=ERROR msg="failed to begin transaction" deployment.id=dev host.name=localhost service.name=TestWithTransaction_CommitError_019b16c6-19b4-7c5e-b375-0faa954de05a service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 error="failed to begin transaction: sql: database is closed"
time=2025-12-13T03:14:00.122-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=TestShutdown_MultipleCalls_019b16c6-19b3-7244-8ee2-058d8ed15c64 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0069838 flush=0
time=2025-12-13T03:14:00.122-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=TestWithTransaction_CommitError_019b16c6-19b4-7c5e-b375-0faa954de05a service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.122-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=error_ping_failed service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.122-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=TestWithTransaction_CommitError_019b16c6-19b4-7c5e-b375-0faa954de05a service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.122-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=error_ping_failed service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.122-05:00 level=DEBUG msg="running in production mode, using PostgreSQL database" deployment.id=dev host.name=localhost service.name=error_ping_failed service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.122-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=error_ping_failed service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.122-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=error_ping_failed service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:00.122-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=TestWithTransaction_CommitError_019b16c6-19b4-7c5e-b375-0faa954de05a service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0053215 flush=0
time=2025-12-13T03:14:00.122-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=TestWithTransaction_CommitError_019b16c6-19b4-7c5e-b375-0faa954de05a service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0053215 flush=0
time=2025-12-13T03:14:00.122-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=sqlite_container_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.122-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=sqlite_container_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.122-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=sqlite_container_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.122-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=sqlite_container_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.122-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=sqlite_container_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.122-05:00 level=DEBUG msg="container mode is required, trying to start a container" deployment.id=dev host.name=localhost service.name=sqlite_container_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.122-05:00 level=DEBUG msg="containerMode is not disabled, so trying to start a container" deployment.id=dev host.name=localhost service.name=sqlite_container_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 dbType=sqlite containerMode=required
time=2025-12-13T03:14:00.123-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Rollback_019b16c6-19ba-7a24-ae8a-c08bae0c75d3 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.123-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Rollback_019b16c6-19ba-7a24-ae8a-c08bae0c75d3 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.123-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Rollback_019b16c6-19ba-7a24-ae8a-c08bae0c75d3 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.123-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Rollback_019b16c6-19ba-7a24-ae8a-c08bae0c75d3 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.123-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Rollback_019b16c6-19ba-7a24-ae8a-c08bae0c75d3 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.123-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Rollback_019b16c6-19ba-7a24-ae8a-c08bae0c75d3 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.123-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Rollback_019b16c6-19ba-7a24-ae8a-c08bae0c75d3 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:00.123-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Rollback_019b16c6-19ba-7a24-ae8a-c08bae0c75d3 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.123-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Rollback_019b16c6-19ba-7a24-ae8a-c08bae0c75d3 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.123-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Rollback_019b16c6-19ba-7a24-ae8a-c08bae0c75d3 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:00.124-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Rollback_019b16c6-19ba-7a24-ae8a-c08bae0c75d3 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.124-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Rollback_019b16c6-19ba-7a24-ae8a-c08bae0c75d3 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
SQLite Schema:
Table: schema_migrations
time=2025-12-13T03:14:00.124-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilFunction_019b16c6-19ba-7206-b56b-1982a7949d2d service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.124-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilFunction_019b16c6-19ba-7206-b56b-1982a7949d2d service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.124-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilFunction_019b16c6-19ba-7206-b56b-1982a7949d2d service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.124-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilFunction_019b16c6-19ba-7206-b56b-1982a7949d2d service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.124-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilFunction_019b16c6-19ba-7206-b56b-1982a7949d2d service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.124-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilFunction_019b16c6-19ba-7206-b56b-1982a7949d2d service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
Table: barrier_content_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
time=2025-12-13T03:14:00.124-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilFunction_019b16c6-19ba-7206-b56b-1982a7949d2d service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:00.124-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=sqlite_container_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0025213 flush=0.0019887
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
time=2025-12-13T03:14:00.125-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=sqlite_container_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0030368 flush=0.0005155
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
time=2025-12-13T03:14:00.125-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilFunction_019b16c6-19ba-7206-b56b-1982a7949d2d service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.125-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilFunction_019b16c6-19ba-7206-b56b-1982a7949d2d service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.125-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilFunction_019b16c6-19ba-7206-b56b-1982a7949d2d service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.125-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilFunction_019b16c6-19ba-7206-b56b-1982a7949d2d service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.125-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilFunction_019b16c6-19ba-7206-b56b-1982a7949d2d service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
SQLite Schema:
Table: schema_migrations
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: barrier_content_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.125-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.126-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Rollback_019b16c6-19ba-7a24-ae8a-c08bae0c75d3 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19be-7488-b42c-11a5e2982fd2 readOnly=false
time=2025-12-13T03:14:00.126-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
Table: material_keys
time=2025-12-13T03:14:00.126-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.126-05:00 level=ERROR msg="transaction function failed" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Rollback_019b16c6-19ba-7a24-ae8a-c08bae0c75d3 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19be-7488-b42c-11a5e2982fd2 readOnly=false error="intentional test error"
time=2025-12-13T03:14:00.126-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.126-05:00 level=WARN msg="rolled back transaction" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Rollback_019b16c6-19ba-7a24-ae8a-c08bae0c75d3 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19be-7488-b42c-11a5e2982fd2 readOnly=false
time=2025-12-13T03:14:00.126-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Rollback_019b16c6-19ba-7a24-ae8a-c08bae0c75d3 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.126-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Rollback_019b16c6-19ba-7a24-ae8a-c08bae0c75d3 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.126-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.126-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
time=2025-12-13T03:14:00.126-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.126-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Rollback_019b16c6-19ba-7a24-ae8a-c08bae0c75d3 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.004143 flush=0
time=2025-12-13T03:14:00.126-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilFunction_019b16c6-19ba-7206-b56b-1982a7949d2d service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.126-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilFunction_019b16c6-19ba-7206-b56b-1982a7949d2d service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.127-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=TestWithTransaction_Rollback_019b16c6-19ba-7a24-ae8a-c08bae0c75d3 service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0046671 flush=0.0005241
time=2025-12-13T03:14:00.127-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:00.127-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.127-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilFunction_019b16c6-19ba-7206-b56b-1982a7949d2d service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0051997 flush=0
time=2025-12-13T03:14:00.127-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:00.127-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=TestWithTransaction_NilFunction_019b16c6-19ba-7206-b56b-1982a7949d2d service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0051997 flush=0
time=2025-12-13T03:14:00.127-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=transaction_errors service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19bf-7512-aae3-ef7c2c7b3303 readOnly=false
time=2025-12-13T03:14:00.127-05:00 level=ERROR msg="transaction function failed" deployment.id=dev host.name=localhost service.name=transaction_errors service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19bf-7512-aae3-ef7c2c7b3303 readOnly=false error="custom error"
time=2025-12-13T03:14:00.127-05:00 level=WARN msg="rolled back transaction" deployment.id=dev host.name=localhost service.name=transaction_errors service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19bf-7512-aae3-ef7c2c7b3303 readOnly=false
time=2025-12-13T03:14:00.127-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.127-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.127-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=transaction_errors service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19bf-7513-900e-a49fd3a84aa0 readOnly=false
time=2025-12-13T03:14:00.127-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_ContainerModeRequired_019b16c6-19bf-7510-bf13-75b2fcd7216d service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.127-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_ContainerModeRequired_019b16c6-19bf-7510-bf13-75b2fcd7216d service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
SQLite Schema:
Table: schema_migrations
time=2025-12-13T03:14:00.127-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=transaction_errors service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19bf-7513-900e-a49fd3a84aa0 readOnly=false
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.127-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_ContainerModeRequired_019b16c6-19bf-7510-bf13-75b2fcd7216d service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
Table: barrier_content_keys
time=2025-12-13T03:14:00.127-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_ContainerModeRequired_019b16c6-19bf-7510-bf13-75b2fcd7216d service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.127-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_ContainerModeRequired_019b16c6-19bf-7510-bf13-75b2fcd7216d service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.127-05:00 level=DEBUG msg="container mode is required, trying to start a container" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_ContainerModeRequired_019b16c6-19bf-7510-bf13-75b2fcd7216d service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.127-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=transaction_errors service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.127-05:00 level=DEBUG msg="containerMode is not disabled, so trying to start a container" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_ContainerModeRequired_019b16c6-19bf-7510-bf13-75b2fcd7216d service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 dbType=sqlite containerMode=required
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
time=2025-12-13T03:14:00.127-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=transaction_errors service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.127-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_ContainerModeRequired_019b16c6-19bf-7510-bf13-75b2fcd7216d service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0005629 flush=0
Table: barrier_intermediate_keys
time=2025-12-13T03:14:00.127-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=TestNewSQLRepository_ContainerModeRequired_019b16c6-19bf-7510-bf13-75b2fcd7216d service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0005629 flush=0
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.127-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name="SQLite via DevMode" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.128-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name="SQLite via DevMode" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.128-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name="SQLite via DevMode" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.127-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=transaction_errors service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0779112 flush=0
Table: barrier_root_keys
time=2025-12-13T03:14:00.128-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name="SQLite via DevMode" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.128-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name="SQLite via DevMode" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.128-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=transaction_errors service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0784557 flush=0
time=2025-12-13T03:14:00.128-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name="SQLite via DevMode" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.128-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name="SQLite via DevMode" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
time=2025-12-13T03:14:00.128-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name="Malformed URL - no protocol" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.128-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name="Malformed URL - no protocol" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.128-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name="Malformed URL - no protocol" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
time=2025-12-13T03:14:00.128-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name="Malformed URL - no protocol" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.128-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name="Malformed URL - no protocol" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0005445 flush=0
time=2025-12-13T03:14:00.128-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name="SQLite via DevMode" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.128-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name="SQLite via DevMode" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.128-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name="SQLite via DevMode" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.128-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name="Malformed URL - no protocol" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0005445 flush=0
Table: material_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.129-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name="SQLite via DevMode" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.129-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name="SQLite via DevMode" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
SQLite Schema:
Table: schema_migrations
time=2025-12-13T03:14:00.129-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19c1-781e-a29a-849ee1c17643 readOnly=false
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.129-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name="Malformed URL - missing host" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.129-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name="Malformed URL - missing host" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.129-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19c1-781e-a29a-849ee1c17643 readOnly=false
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.129-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19c1-781f-ac34-0a4bb89b218d readOnly=false
Table: barrier_content_keys
time=2025-12-13T03:14:00.129-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name="Malformed URL - missing host" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.130-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19c1-781f-ac34-0a4bb89b218d readOnly=false
Table: barrier_intermediate_keys
time=2025-12-13T03:14:00.130-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name="Malformed URL - missing host" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
time=2025-12-13T03:14:00.130-05:00 level=DEBUG msg="running in production mode, using PostgreSQL database" deployment.id=dev host.name=localhost service.name="Malformed URL - missing host" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.130-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name="Malformed URL - missing host" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.130-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name="Malformed URL - missing host" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:00.130-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19c2-70f9-bc84-cb074b205b56 readOnly=false
Table: barrier_root_keys
time=2025-12-13T03:14:00.130-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19c2-70f9-bc84-cb074b205b56 readOnly=false
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.130-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19c2-70fa-ab5b-7953652a62dd readOnly=false
Table: elastic_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.130-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19c2-70fa-ab5b-7953652a62dd readOnly=false
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.130-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19c2-7951-adc1-d27999a87495 readOnly=false
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:00.130-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19c2-7951-adc1-d27999a87495 readOnly=false
Table: material_keys
time=2025-12-13T03:14:00.130-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19c2-7952-b14a-7f4e56e63839 readOnly=false
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.130-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19c2-7952-b14a-7f4e56e63839 readOnly=false
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.130-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19c2-7953-8f8b-2260b0e0f34a readOnly=false
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:00.130-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19c2-7953-8f8b-2260b0e0f34a readOnly=false
time=2025-12-13T03:14:00.131-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name="SQLite via DevMode" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.131-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19c3-72be-9b78-a71af58b41fe readOnly=false
time=2025-12-13T03:14:00.131-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name="SQLite via DevMode" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.131-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19c3-72be-9b78-a71af58b41fe readOnly=false
time=2025-12-13T03:14:00.131-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19c3-72bf-8669-612585901ff5 readOnly=false
time=2025-12-13T03:14:00.131-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19c3-72bf-8669-612585901ff5 readOnly=false
time=2025-12-13T03:14:00.131-05:00 level=DEBUG msg="started transaction" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19c3-72c0-b02a-c0698cdb5fd4 readOnly=false
time=2025-12-13T03:14:00.131-05:00 level=DEBUG msg="committed transaction" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 transactionID=019b16c6-19c3-72c0-b02a-c0698cdb5fd4 readOnly=false
time=2025-12-13T03:14:00.131-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name="SQLite via DevMode" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0032851 flush=0
time=2025-12-13T03:14:00.131-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.131-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.131-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name="SQLite via DevMode" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0032851 flush=0
time=2025-12-13T03:14:00.131-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0065837 flush=0.0005728
time=2025-12-13T03:14:00.131-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=pool_stats_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0065837 flush=0
time=2025-12-13T03:14:00.132-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name="Malformed URL - invalid characters" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.132-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name="Malformed URL - invalid characters" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.132-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name="Malformed URL - invalid characters" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.132-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name="Malformed URL - invalid characters" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.132-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with malformed search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.132-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with malformed search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:00.132-05:00 level=DEBUG msg="running in production mode, using PostgreSQL database" deployment.id=dev host.name=localhost service.name="Malformed URL - invalid characters" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.132-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with malformed search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.132-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with malformed search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.132-05:00 level=DEBUG msg="running in production mode, using PostgreSQL database" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with malformed search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.132-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with malformed search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.132-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with malformed search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:00.132-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name="Malformed URL - invalid characters" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:00.132-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name="Malformed URL - invalid characters" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:00.840-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name=schema_creation_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:00.840-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name=ping_retry_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=cryptoutil database=cryptoutil_test`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:00.875-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name=error_ping_failed service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=invalid_user database=cryptoutil_test`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:00.884-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="Malformed URL - missing host" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:00.889-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with malformed search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:00.890-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="Malformed URL - invalid characters" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user@@ database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:01.844-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name=ping_retry_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=2 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=cryptoutil database=cryptoutil_test`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:01.844-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name=schema_creation_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=2 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:01.877-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name=error_ping_failed service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=2 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=invalid_user database=cryptoutil_test`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:01.891-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="Malformed URL - missing host" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=2 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:01.893-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with malformed search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=2 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:01.896-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="Malformed URL - invalid characters" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=2 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user@@ database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:02.846-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name=ping_retry_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=3 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=cryptoutil database=cryptoutil_test`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:02.847-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name=schema_creation_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=3 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:02.881-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name=error_ping_failed service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=3 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=invalid_user database=cryptoutil_test`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:02.895-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="Malformed URL - missing host" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=3 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:02.897-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with malformed search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=3 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:02.902-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="Malformed URL - invalid characters" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=3 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user@@ database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:03.848-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name=ping_retry_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=4 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=cryptoutil database=cryptoutil_test`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:03.849-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name=schema_creation_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=4 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:03.888-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name=error_ping_failed service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=4 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=invalid_user database=cryptoutil_test`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:03.901-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with malformed search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=4 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:03.905-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="Malformed URL - missing host" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=4 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:03.908-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="Malformed URL - invalid characters" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=4 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user@@ database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:04.354-05:00 level=DEBUG msg="successfully started database container" deployment.id=dev host.name=localhost service.name=postgres_container_required service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 containerMode=required dbType=pgx databaseUrl="postgres://postgresUsernamecu:postgresPasswordcu@localhost:32772/postgresDatabasecu?sslmode=disable"
time=2025-12-13T03:14:04.354-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=postgres_container_required service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:04.361-05:00 level=DEBUG msg="successfully started database container" deployment.id=dev host.name=localhost service.name=postgres_container_preferred service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 containerMode=preferred dbType=pgx databaseUrl="postgres://postgresUsernamecu:postgresPasswordcu@localhost:32773/postgresDatabasecu?sslmode=disable"
time=2025-12-13T03:14:04.361-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name=postgres_container_preferred service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:04.851-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name=ping_retry_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=5 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=cryptoutil database=cryptoutil_test`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:04.854-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name=schema_creation_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=5 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:04.890-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name=error_ping_failed service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=5 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=invalid_user database=cryptoutil_test`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:04.904-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with malformed search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=5 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:04.909-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="Malformed URL - missing host" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=5 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:04.912-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="Malformed URL - invalid characters" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=5 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user@@ database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:05.126-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=postgres_container_required service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=required dbType=pgx
time=2025-12-13T03:14:05.126-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=postgres_container_required service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.126-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=postgres_container_required service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=pgx
time=2025-12-13T03:14:05.131-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name=postgres_container_preferred service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=preferred dbType=pgx
time=2025-12-13T03:14:05.131-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name=postgres_container_preferred service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.131-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name=postgres_container_preferred service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=pgx
time=2025-12-13T03:14:05.191-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=postgres_container_required service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.191-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=postgres_container_required service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.192-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name=postgres_container_preferred service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.192-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name=postgres_container_preferred service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
Table: barrier_content_keys
Table: barrier_content_keys
  Column: uuid, Type: uuid, Nullable: NO
  Column: kek_uuid, Type: uuid, Nullable: NO
  Column: encrypted, Type: text, Nullable: NO
Table: barrier_intermediate_keys
  Column: uuid, Type: uuid, Nullable: NO
  Column: kek_uuid, Type: uuid, Nullable: NO
  Column: encrypted, Type: text, Nullable: NO
Table: barrier_intermediate_keys
  Column: uuid, Type: uuid, Nullable: NO
  Column: kek_uuid, Type: uuid, Nullable: NO
  Column: encrypted, Type: text, Nullable: NO
Table: barrier_root_keys
  Column: uuid, Type: uuid, Nullable: NO
  Column: kek_uuid, Type: uuid, Nullable: NO
  Column: encrypted, Type: text, Nullable: NO
Table: barrier_root_keys
  Column: uuid, Type: uuid, Nullable: NO
  Column: kek_uuid, Type: uuid, Nullable: NO
  Column: encrypted, Type: text, Nullable: NO
Table: elastic_keys
  Column: uuid, Type: uuid, Nullable: NO
  Column: kek_uuid, Type: uuid, Nullable: NO
  Column: encrypted, Type: text, Nullable: NO
Table: elastic_keys
  Column: elastic_key_versioning_allowed, Type: boolean, Nullable: NO
  Column: elastic_key_import_allowed, Type: boolean, Nullable: NO
  Column: elastic_key_id, Type: uuid, Nullable: NO
  Column: elastic_key_provider, Type: character varying, Nullable: NO
  Column: elastic_key_algorithm, Type: character varying, Nullable: NO
  Column: elastic_key_status, Type: character varying, Nullable: NO
  Column: elastic_key_name, Type: character varying, Nullable: NO
  Column: elastic_key_description, Type: character varying, Nullable: NO
Table: material_keys
  Column: elastic_key_versioning_allowed, Type: boolean, Nullable: NO
  Column: elastic_key_import_allowed, Type: boolean, Nullable: NO
  Column: elastic_key_id, Type: uuid, Nullable: NO
  Column: elastic_key_provider, Type: character varying, Nullable: NO
  Column: elastic_key_algorithm, Type: character varying, Nullable: NO
  Column: elastic_key_status, Type: character varying, Nullable: NO
  Column: elastic_key_name, Type: character varying, Nullable: NO
  Column: elastic_key_description, Type: character varying, Nullable: NO
Table: material_keys
  Column: elastic_key_id, Type: uuid, Nullable: NO
  Column: material_key_id, Type: uuid, Nullable: NO
  Column: material_key_clear_public, Type: bytea, Nullable: YES
  Column: material_key_encrypted_non_public, Type: bytea, Nullable: NO
  Column: material_key_generate_date, Type: timestamp with time zone, Nullable: YES
  Column: material_key_import_date, Type: timestamp with time zone, Nullable: YES
  Column: material_key_expiration_date, Type: timestamp with time zone, Nullable: YES
  Column: material_key_revocation_date, Type: timestamp with time zone, Nullable: YES
Table: schema_migrations
  Column: elastic_key_id, Type: uuid, Nullable: NO
  Column: material_key_id, Type: uuid, Nullable: NO
  Column: material_key_clear_public, Type: bytea, Nullable: YES
  Column: material_key_encrypted_non_public, Type: bytea, Nullable: NO
  Column: material_key_generate_date, Type: timestamp with time zone, Nullable: YES
  Column: material_key_import_date, Type: timestamp with time zone, Nullable: YES
  Column: material_key_expiration_date, Type: timestamp with time zone, Nullable: YES
  Column: material_key_revocation_date, Type: timestamp with time zone, Nullable: YES
Table: schema_migrations
  Column: version, Type: bigint, Nullable: NO
  Column: dirty, Type: boolean, Nullable: NO
time=2025-12-13T03:14:05.255-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=postgres_container_preferred service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.255-05:00 level=DEBUG msg="terminating container" deployment.id=dev host.name=localhost service.name=postgres_container_preferred service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: version, Type: bigint, Nullable: NO
  Column: dirty, Type: boolean, Nullable: NO
time=2025-12-13T03:14:05.260-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=postgres_container_required service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.260-05:00 level=DEBUG msg="terminating container" deployment.id=dev host.name=localhost service.name=postgres_container_required service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.852-05:00 level=WARN msg="giving up trying to ping database" deployment.id=dev host.name=localhost service.name=ping_retry_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=5 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=cryptoutil database=cryptoutil_test`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:05.852-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=ping_retry_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.852-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=ping_retry_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.852-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=ping_retry_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=5.7695063 flush=0
time=2025-12-13T03:14:05.852-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=ping_retry_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=5.7695063 flush=0
--- FAIL: TestNewSQLRepository_PostgreSQL_PingRetry (5.77s)
    sql_comprehensive_coverage_test.go:81:
        	Error Trace:	C:/Dev/Projects/cryptoutil/internal/kms/server/repository/sqlrepository/sql_comprehensive_coverage_test.go:81
        	Error:      	Received unexpected error:
        	            	failed to ping database: failed to ping database
        	            	dbType: pgx
        	Test:       	TestNewSQLRepository_PostgreSQL_PingRetry
        	Messages:   	PostgreSQL service container should be reachable
time=2025-12-13T03:14:05.852-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with special characters in schema" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.852-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with special characters in schema" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:05.852-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with special characters in schema" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.852-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with special characters in schema" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.852-05:00 level=DEBUG msg="running in production mode, using PostgreSQL database" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with special characters in schema" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.852-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with special characters in schema" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.852-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with special characters in schema" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:05.855-05:00 level=WARN msg="giving up trying to ping database" deployment.id=dev host.name=localhost service.name=schema_creation_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=5 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:05.855-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=schema_creation_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.855-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=schema_creation_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.855-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=schema_creation_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=5.8052039 flush=0
time=2025-12-13T03:14:05.855-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=schema_creation_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=5.8052039 flush=0
time=2025-12-13T03:14:05.855-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name="DevMode true - SQLite in-memory" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.855-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name="DevMode true - SQLite in-memory" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:05.855-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name="DevMode true - SQLite in-memory" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.855-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name="DevMode true - SQLite in-memory" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.855-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name="DevMode true - SQLite in-memory" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.855-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name="DevMode true - SQLite in-memory" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.855-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name="DevMode true - SQLite in-memory" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:05.855-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name="DevMode true - SQLite in-memory" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:05.855-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name="DevMode true - SQLite in-memory" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.855-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name="DevMode true - SQLite in-memory" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:05.855-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name="DevMode true - SQLite in-memory" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.855-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name="DevMode true - SQLite in-memory" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
SQLite Schema:
Table: schema_migrations
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: barrier_content_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:05.856-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name="DevMode true - SQLite in-memory" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.856-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name="DevMode true - SQLite in-memory" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.857-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name="DevMode true - SQLite in-memory" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0018587 flush=0.0006371
time=2025-12-13T03:14:05.857-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name="DevMode true - SQLite in-memory" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0018587 flush=0
time=2025-12-13T03:14:05.857-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name="Unsupported MySQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.857-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name="Unsupported MySQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:05.857-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name="Unsupported MySQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.857-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name="Unsupported MySQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.858-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name="Unsupported MySQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0015489 flush=0.0010131
time=2025-12-13T03:14:05.858-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name="Unsupported MySQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0015489 flush=0
time=2025-12-13T03:14:05.859-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name="Empty URL with devMode false" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.859-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name="Empty URL with devMode false" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:05.859-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name="Empty URL with devMode false" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.859-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name="Empty URL with devMode false" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.859-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name="Empty URL with devMode false" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0012981 flush=0
time=2025-12-13T03:14:05.859-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name="Empty URL with devMode false" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0012981 flush=0
time=2025-12-13T03:14:05.860-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name="PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.860-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name="PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:05.860-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name="PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.860-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name="PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.860-05:00 level=DEBUG msg="running in production mode, using PostgreSQL database" deployment.id=dev host.name=localhost service.name="PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.860-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name="PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.860-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name="PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:05.890-05:00 level=WARN msg="giving up trying to ping database" deployment.id=dev host.name=localhost service.name=error_ping_failed service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=5 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=invalid_user database=cryptoutil_test`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:05.890-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=error_ping_failed service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.890-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=error_ping_failed service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.890-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=error_ping_failed service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=5.7691258 flush=0
time=2025-12-13T03:14:05.890-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=error_ping_failed service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=5.7691258 flush=0
time=2025-12-13T03:14:05.891-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name="Single schema in search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.891-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name="Single schema in search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:05.891-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name="Single schema in search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.891-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name="Single schema in search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.891-05:00 level=DEBUG msg="running in production mode, using PostgreSQL database" deployment.id=dev host.name=localhost service.name="Single schema in search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.891-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name="Single schema in search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.891-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name="Single schema in search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:05.904-05:00 level=WARN msg="giving up trying to ping database" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with malformed search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=5 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:05.904-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with malformed search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.904-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with malformed search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.904-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with malformed search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=5.7730861 flush=0
time=2025-12-13T03:14:05.904-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with malformed search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=5.7730861 flush=0
time=2025-12-13T03:14:05.904-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=nil_inputs_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=5.826408 flush=0
time=2025-12-13T03:14:05.904-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=nil_inputs_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=5.826408 flush=0
time=2025-12-13T03:14:05.905-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name="No search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.905-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name="No search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:05.905-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name="No search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.905-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name="No search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.905-05:00 level=DEBUG msg="running in production mode, using PostgreSQL database" deployment.id=dev host.name=localhost service.name="No search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.905-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name="No search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.905-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name="No search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:05.909-05:00 level=WARN msg="giving up trying to ping database" deployment.id=dev host.name=localhost service.name="Malformed URL - missing host" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=5 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:05.909-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name="Malformed URL - missing host" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.909-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name="Malformed URL - missing host" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.909-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name="Malformed URL - missing host" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=5.7804071 flush=0
time=2025-12-13T03:14:05.909-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name="Malformed URL - missing host" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=5.7804071 flush=0
time=2025-12-13T03:14:05.909-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name="Schema with whitespace" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.909-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name="Schema with whitespace" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:05.909-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name="Schema with whitespace" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.909-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name="Schema with whitespace" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.909-05:00 level=DEBUG msg="running in production mode, using PostgreSQL database" deployment.id=dev host.name=localhost service.name="Schema with whitespace" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.909-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name="Schema with whitespace" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.909-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name="Schema with whitespace" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:05.912-05:00 level=WARN msg="giving up trying to ping database" deployment.id=dev host.name=localhost service.name="Malformed URL - invalid characters" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=5 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user@@ database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:05.912-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name="Malformed URL - invalid characters" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.912-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name="Malformed URL - invalid characters" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.912-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name="Malformed URL - invalid characters" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=5.7815123 flush=0
time=2025-12-13T03:14:05.912-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name="Malformed URL - invalid characters" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=5.7815123 flush=0
time=2025-12-13T03:14:05.913-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name="Multiple schemas in search_path (comma-separated)" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.913-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name="Multiple schemas in search_path (comma-separated)" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:05.913-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name="Multiple schemas in search_path (comma-separated)" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.913-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name="Multiple schemas in search_path (comma-separated)" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.913-05:00 level=DEBUG msg="running in production mode, using PostgreSQL database" deployment.id=dev host.name=localhost service.name="Multiple schemas in search_path (comma-separated)" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.913-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name="Multiple schemas in search_path (comma-separated)" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:05.913-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name="Multiple schemas in search_path (comma-separated)" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:06.104-05:00 level=DEBUG msg="successfully terminated container" deployment.id=dev host.name=localhost service.name=postgres_container_required service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:06.104-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=postgres_container_required service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:06.106-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=postgres_container_required service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=6.0168392 flush=0.0015811
time=2025-12-13T03:14:06.107-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=postgres_container_required service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=6.0174394 flush=0.0006002
time=2025-12-13T03:14:06.107-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name="Empty search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:06.107-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name="Empty search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:06.107-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name="Empty search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:06.107-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name="Empty search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:06.107-05:00 level=DEBUG msg="running in production mode, using PostgreSQL database" deployment.id=dev host.name=localhost service.name="Empty search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:06.108-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name="Empty search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:06.108-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name="Empty search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:06.226-05:00 level=DEBUG msg="successfully terminated container" deployment.id=dev host.name=localhost service.name=postgres_container_preferred service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:06.226-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=postgres_container_preferred service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:06.228-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=postgres_container_preferred service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=6.1132149 flush=0.0005278
time=2025-12-13T03:14:06.228-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=postgres_container_preferred service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=6.1132149 flush=0
time=2025-12-13T03:14:06.228-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name="DevMode true - defaults to SQLite" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:06.229-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name="DevMode true - defaults to SQLite" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:06.229-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name="DevMode true - defaults to SQLite" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:06.229-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name="DevMode true - defaults to SQLite" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:06.229-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name="DevMode true - defaults to SQLite" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:06.229-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name="DevMode true - defaults to SQLite" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:06.229-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name="DevMode true - defaults to SQLite" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:06.229-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name="DevMode true - defaults to SQLite" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:06.229-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name="DevMode true - defaults to SQLite" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:06.229-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name="DevMode true - defaults to SQLite" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:06.230-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name="DevMode true - defaults to SQLite" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:06.230-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name="DevMode true - defaults to SQLite" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
SQLite Schema:
Table: schema_migrations
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: barrier_content_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:06.230-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name="DevMode true - defaults to SQLite" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:06.230-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name="DevMode true - defaults to SQLite" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:06.230-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name="DevMode true - defaults to SQLite" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0022 flush=0
time=2025-12-13T03:14:06.231-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name="DevMode true - defaults to SQLite" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0027301 flush=0.0005301
time=2025-12-13T03:14:06.231-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name="DevMode false with PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:06.231-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name="DevMode false with PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:06.231-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name="DevMode false with PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:06.231-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name="DevMode false with PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:06.231-05:00 level=DEBUG msg="running in production mode, using PostgreSQL database" deployment.id=dev host.name=localhost service.name="DevMode false with PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:06.231-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name="DevMode false with PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:06.231-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name="DevMode false with PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:06.610-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with special characters in schema" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:06.614-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:06.643-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="Single schema in search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:06.657-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="No search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:06.662-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="Schema with whitespace" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:06.664-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="Multiple schemas in search_path (comma-separated)" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:06.860-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="Empty search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:06.983-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="DevMode false with PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:07.613-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with special characters in schema" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=2 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:07.617-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=2 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:07.645-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="Single schema in search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=2 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:07.660-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="No search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=2 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:07.664-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="Schema with whitespace" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=2 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:07.666-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="Multiple schemas in search_path (comma-separated)" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=2 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:07.863-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="Empty search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=2 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:07.985-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="DevMode false with PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=2 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:08.615-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with special characters in schema" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=3 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:08.620-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=3 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:08.647-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="Single schema in search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=3 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:08.662-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="No search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=3 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:08.665-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="Schema with whitespace" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=3 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:08.669-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="Multiple schemas in search_path (comma-separated)" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=3 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:08.866-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="Empty search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=3 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:08.988-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="DevMode false with PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=3 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:09.617-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with special characters in schema" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=4 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:09.623-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=4 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:09.650-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="Single schema in search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=4 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:09.664-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="No search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=4 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:09.669-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="Schema with whitespace" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=4 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:09.671-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="Multiple schemas in search_path (comma-separated)" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=4 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:09.868-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="Empty search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=4 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:09.989-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="DevMode false with PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=4 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:10.619-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with special characters in schema" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=5 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:10.626-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=5 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:10.655-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="Single schema in search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=5 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:10.666-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="No search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=5 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:10.671-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="Schema with whitespace" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=5 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:10.672-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="Multiple schemas in search_path (comma-separated)" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=5 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:10.870-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="Empty search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=5 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:10.991-05:00 level=WARN msg="failed to ping database" deployment.id=dev host.name=localhost service.name="DevMode false with PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=5 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:11.620-05:00 level=WARN msg="giving up trying to ping database" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with special characters in schema" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=5 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:11.620-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with special characters in schema" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.620-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with special characters in schema" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.620-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with special characters in schema" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=5.7687871 flush=0
time=2025-12-13T03:14:11.620-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name="PostgreSQL URL with special characters in schema" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=5.7687871 flush=0
time=2025-12-13T03:14:11.620-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name="DevMode true with explicit SQLite URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.621-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name="DevMode true with explicit SQLite URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:11.621-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name="DevMode true with explicit SQLite URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.621-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name="DevMode true with explicit SQLite URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.621-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name="DevMode true with explicit SQLite URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.621-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name="DevMode true with explicit SQLite URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.621-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name="DevMode true with explicit SQLite URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:11.621-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name="DevMode true with explicit SQLite URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:11.621-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name="DevMode true with explicit SQLite URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.621-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name="DevMode true with explicit SQLite URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:11.621-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name="DevMode true with explicit SQLite URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.621-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name="DevMode true with explicit SQLite URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
SQLite Schema:
Table: schema_migrations
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: barrier_content_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:11.622-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name="DevMode true with explicit SQLite URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.622-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name="DevMode true with explicit SQLite URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.622-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name="DevMode true with explicit SQLite URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0017789 flush=0.0005311
time=2025-12-13T03:14:11.622-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name="DevMode true with explicit SQLite URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0017789 flush=0
time=2025-12-13T03:14:11.622-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name=container_not_exist service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.622-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name=container_not_exist service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:11.622-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name=container_not_exist service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.622-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name=container_not_exist service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.622-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=container_not_exist service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.622-05:00 level=DEBUG msg="container mode is required, trying to start a container" deployment.id=dev host.name=localhost service.name=container_not_exist service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.622-05:00 level=DEBUG msg="containerMode is not disabled, so trying to start a container" deployment.id=dev host.name=localhost service.name=container_not_exist service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 dbType=sqlite containerMode=required
time=2025-12-13T03:14:11.622-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=container_not_exist service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0 flush=0
time=2025-12-13T03:14:11.623-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=container_not_exist service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0005692 flush=0
time=2025-12-13T03:14:11.623-05:00 level=DEBUG msg="initializing otel logs provider" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.623-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.623-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:11.623-05:00 level=DEBUG msg="initializing metrics provider" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.623-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.623-05:00 level=DEBUG msg="initializing traces provider" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.623-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.623-05:00 level=DEBUG msg="sample parent trace and span" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 traceid=8e5e1361fc2764e874bdb5151d0a5ba5 traceid=93ab79015f756d12
time=2025-12-13T03:14:11.623-05:00 level=DEBUG msg="sample child trace and span" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 traceid=8e5e1361fc2764e874bdb5151d0a5ba5 traceid=aa7de4d31270a132
time=2025-12-13T03:14:11.623-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.623-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.623-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:11.623-05:00 level=INFO msg="DB Pool Settings" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 maxOpenConnections=1 openConnections=1 idle=1 isUse=0 waitCount=0 waitDuration=0s maxIdleClosed=0 maxIdleTimeClosed=0 maxLifetimeClosed=0
time=2025-12-13T03:14:11.623-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:11.623-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.623-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:11.623-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.623-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
SQLite Schema:
Table: schema_migrations
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: barrier_content_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:11.624-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.624-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.624-05:00 level=DEBUG msg="shutting down telemetry providers" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0010776
time=2025-12-13T03:14:11.624-05:00 level=DEBUG msg="traces provider force flushing" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0010776
time=2025-12-13T03:14:11.624-05:00 level=DEBUG msg="traces provider force flushed" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0010776 flush=0
time=2025-12-13T03:14:11.624-05:00 level=DEBUG msg="metrics provider force flushing" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0010776
time=2025-12-13T03:14:11.624-05:00 level=DEBUG msg="metrics provider force flushed" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0010776 flush=0
time=2025-12-13T03:14:11.624-05:00 level=DEBUG msg="logs provider force flushing" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0010776
time=2025-12-13T03:14:11.624-05:00 level=DEBUG msg="logs provider force flushed" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.001695 flush=0.0006174
time=2025-12-13T03:14:11.624-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.001695 flush=0.0006174
time=2025-12-13T03:14:11.624-05:00 level=DEBUG msg="traces provider shutting down" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.001695
time=2025-12-13T03:14:11.624-05:00 level=DEBUG msg="traces provider shut down" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.001695 flush=0
time=2025-12-13T03:14:11.624-05:00 level=DEBUG msg="metrics provider shutting down" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.001695
time=2025-12-13T03:14:11.624-05:00 level=DEBUG msg="metrics provider shut down" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.001695 flush=0
time=2025-12-13T03:14:11.624-05:00 level=DEBUG msg="logs provider shutting down" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.001695
time=2025-12-13T03:14:11.624-05:00 level=DEBUG msg="logs provider shut down" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.001695 flush=0
time=2025-12-13T03:14:11.624-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name="Verbose mode enabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.001695 flush=0
time=2025-12-13T03:14:11.626-05:00 level=WARN msg="giving up trying to ping database" deployment.id=dev host.name=localhost service.name="PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=5 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:11.626-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name="PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.626-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name="PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.626-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name="Verbose mode disabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.626-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name="Verbose mode disabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:11.626-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name="Verbose mode disabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.626-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name="Verbose mode disabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.626-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name="Verbose mode disabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.626-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name="Verbose mode disabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.626-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name="PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=5.7666882 flush=0
time=2025-12-13T03:14:11.626-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name="Verbose mode disabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:11.627-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name="PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=5.7673503 flush=0.0006621
time=2025-12-13T03:14:11.627-05:00 level=DEBUG msg="initializing otel logs provider" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.627-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name="Verbose mode disabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:11.627-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name="Verbose mode disabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.627-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name="Verbose mode disabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:11.628-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name="Verbose mode disabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.628-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name="Verbose mode disabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
SQLite Schema:
Table: schema_migrations
time=2025-12-13T03:14:11.628-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:11.628-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
Table: barrier_content_keys
time=2025-12-13T03:14:11.628-05:00 level=DEBUG msg="initializing metrics provider" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:11.629-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.629-05:00 level=DEBUG msg="initializing traces provider" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:11.629-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.629-05:00 level=DEBUG msg="sample parent trace and span" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 traceid=ec30beba86d18e04bd3a68a982658672 traceid=abad2174588756a1
time=2025-12-13T03:14:11.629-05:00 level=DEBUG msg="sample child trace and span" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 traceid=ec30beba86d18e04bd3a68a982658672 traceid=648ed1fa4fca944b
time=2025-12-13T03:14:11.629-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.629-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
Table: barrier_intermediate_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:11.629-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:11.629-05:00 level=INFO msg="DB Pool Settings" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 maxOpenConnections=1 openConnections=1 idle=1 isUse=0 waitCount=0 waitDuration=0s maxIdleClosed=0 maxIdleTimeClosed=0 maxLifetimeClosed=0
time=2025-12-13T03:14:11.629-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:11.629-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.629-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
Table: material_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:11.629-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.629-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.629-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name="Verbose mode disabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.629-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name="Verbose mode disabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
SQLite Schema:
Table: schema_migrations
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:11.630-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name="Verbose mode disabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0052087 flush=0.0005327
Table: barrier_content_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:11.630-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name="Verbose mode disabled" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0052087 flush=0
Table: barrier_intermediate_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:11.630-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name="SQLite pool settings without verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.630-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.630-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name="SQLite pool settings without verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:11.630-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.630-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name="SQLite pool settings without verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.630-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name="SQLite pool settings without verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.630-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name="SQLite pool settings without verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.630-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name="SQLite pool settings without verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.630-05:00 level=DEBUG msg="shutting down telemetry providers" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.003529
time=2025-12-13T03:14:11.630-05:00 level=DEBUG msg="traces provider force flushing" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.003529
time=2025-12-13T03:14:11.630-05:00 level=DEBUG msg="traces provider force flushed" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.003529 flush=0
time=2025-12-13T03:14:11.630-05:00 level=DEBUG msg="metrics provider force flushing" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.003529
time=2025-12-13T03:14:11.630-05:00 level=DEBUG msg="metrics provider force flushed" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.003529 flush=0
time=2025-12-13T03:14:11.630-05:00 level=DEBUG msg="logs provider force flushing" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.003529
time=2025-12-13T03:14:11.630-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name="SQLite pool settings without verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:11.630-05:00 level=DEBUG msg="logs provider force flushed" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.003529 flush=0
time=2025-12-13T03:14:11.630-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.003529 flush=0
time=2025-12-13T03:14:11.630-05:00 level=DEBUG msg="traces provider shutting down" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.003529
time=2025-12-13T03:14:11.630-05:00 level=DEBUG msg="traces provider shut down" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.003529 flush=0
time=2025-12-13T03:14:11.630-05:00 level=DEBUG msg="metrics provider shutting down" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.003529
time=2025-12-13T03:14:11.630-05:00 level=DEBUG msg="metrics provider shut down" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.003529 flush=0
time=2025-12-13T03:14:11.630-05:00 level=DEBUG msg="logs provider shutting down" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.003529
time=2025-12-13T03:14:11.630-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name="SQLite pool settings without verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:11.630-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name="SQLite pool settings without verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.630-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name="SQLite pool settings without verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:11.630-05:00 level=DEBUG msg="logs provider shut down" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.003529 flush=0
time=2025-12-13T03:14:11.630-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name="SQLite pool settings with verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.003529 flush=0
time=2025-12-13T03:14:11.631-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name="SQLite pool settings without verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.631-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name="SQLite pool settings without verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
SQLite Schema:
Table: schema_migrations
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: barrier_content_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:11.631-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name="Empty PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:11.631-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name="Empty PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
Table: elastic_keys
time=2025-12-13T03:14:11.631-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name="Empty PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:11.631-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name="Empty PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
time=2025-12-13T03:14:11.631-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name="Empty PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0005478 flush=0
Table: material_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:11.631-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name="Empty PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0010854 flush=0
time=2025-12-13T03:14:11.631-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name="SQLite pool settings without verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.631-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name="SQLite pool settings without verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.631-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name="SQLite pool settings without verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0016671 flush=0
time=2025-12-13T03:14:11.631-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name="SQLite pool settings without verbose logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0016671 flush=0
time=2025-12-13T03:14:11.631-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.631-05:00 level=DEBUG msg="running in production mode, using PostgreSQL database" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.631-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name="Invalid PostgreSQL URL format" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.632-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name="Invalid PostgreSQL URL format" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:11.632-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name="Invalid PostgreSQL URL format" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.632-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name="Invalid PostgreSQL URL format" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.632-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name="Invalid PostgreSQL URL format" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0005701 flush=0
time=2025-12-13T03:14:11.632-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name="Invalid PostgreSQL URL format" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0005701 flush=0
time=2025-12-13T03:14:11.633-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name="DevMode true with empty URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.633-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name="DevMode true with empty URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:11.633-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name="DevMode true with empty URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.633-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name="DevMode true with empty URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.634-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name="DevMode true with empty URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.634-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name="DevMode true with empty URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.634-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name="DevMode true with empty URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:11.634-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name="DevMode true with empty URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:11.634-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name="DevMode true with empty URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.634-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name="DevMode true with empty URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:11.635-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name="DevMode true with empty URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.635-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name="DevMode true with empty URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
SQLite Schema:
Table: schema_migrations
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: barrier_content_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:11.636-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name="DevMode true with empty URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.636-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name="DevMode true with empty URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.636-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name="DevMode true with empty URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0046238 flush=0
time=2025-12-13T03:14:11.636-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name="DevMode true with empty URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0051356 flush=0.0005118
time=2025-12-13T03:14:11.636-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name="DevMode false with empty URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.636-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name="DevMode false with empty URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:11.636-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name="DevMode false with empty URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.636-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name="DevMode false with empty URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.636-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name="DevMode false with empty URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0045655 flush=0
time=2025-12-13T03:14:11.637-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name="DevMode false with empty URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0051705 flush=0.000605
time=2025-12-13T03:14:11.637-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.637-05:00 level=DEBUG msg="container mode is required, trying to start a container" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.637-05:00 level=DEBUG msg="container mode is preferred, trying to start a container" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.638-05:00 level=DEBUG msg="initialized otel logs provider" deployment.id=dev host.name=localhost service.name="SQLite schema logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.638-05:00 level=INFO msg="sidecar health check succeeded" deployment.id=dev host.name=localhost service.name="SQLite schema logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=0 errors=<nil>
time=2025-12-13T03:14:11.638-05:00 level=DEBUG msg="initialized metrics provider" deployment.id=dev host.name=localhost service.name="SQLite schema logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.638-05:00 level=DEBUG msg="initialized traces provider" deployment.id=dev host.name=localhost service.name="SQLite schema logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.638-05:00 level=DEBUG msg="running in dev mode, using in-memory SQLite database with shared cache" deployment.id=dev host.name=localhost service.name="SQLite schema logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.638-05:00 level=DEBUG msg="container mode is disabled, using provided database URL" deployment.id=dev host.name=localhost service.name="SQLite schema logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.638-05:00 level=DEBUG msg="loaded database drivers" deployment.id=dev host.name=localhost service.name="SQLite schema logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 drivers="[pgx pgx/v5 sqlite sqlite3]"
time=2025-12-13T03:14:11.638-05:00 level=DEBUG msg="successfully pinged database" deployment.id=dev host.name=localhost service.name="SQLite schema logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempt=1 containerMode=disabled dbType=sqlite
time=2025-12-13T03:14:11.638-05:00 level=DEBUG msg="applying migrations" deployment.id=dev host.name=localhost service.name="SQLite schema logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.638-05:00 level=DEBUG msg="applying SQL migrations from embedded files" deployment.id=dev host.name=localhost service.name="SQLite schema logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 driver=sqlite
time=2025-12-13T03:14:11.638-05:00 level=DEBUG msg="successfully applied migrations" deployment.id=dev host.name=localhost service.name="SQLite schema logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.638-05:00 level=DEBUG msg="migrations completed successfully" deployment.id=dev host.name=localhost service.name="SQLite schema logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
SQLite Schema:
Table: schema_migrations
  Column: version, Type: uint64, NotNull: 0, PrimaryKey: 0
  Column: dirty, Type: bool, NotNull: 0, PrimaryKey: 0
Table: barrier_content_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_intermediate_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: barrier_root_keys
  Column: uuid, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: encrypted, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: kek_uuid, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: elastic_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: elastic_key_name, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_description, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_provider, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_algorithm, Type: TEXT, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_versioning_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_import_allowed, Type: INTEGER, NotNull: 1, PrimaryKey: 0
  Column: elastic_key_status, Type: TEXT, NotNull: 1, PrimaryKey: 0
Table: material_keys
  Column: elastic_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 1
  Column: material_key_id, Type: TEXT, NotNull: 1, PrimaryKey: 2
  Column: material_key_clear_public, Type: BLOB, NotNull: 0, PrimaryKey: 0
  Column: material_key_encrypted_non_public, Type: BLOB, NotNull: 1, PrimaryKey: 0
  Column: material_key_generate_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_import_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_expiration_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
  Column: material_key_revocation_date, Type: TIMESTAMP, NotNull: 0, PrimaryKey: 0
time=2025-12-13T03:14:11.639-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name="SQLite schema logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.639-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name="SQLite schema logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.639-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name="SQLite schema logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0022458 flush=0
time=2025-12-13T03:14:11.639-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name="SQLite schema logging" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=0.0027717 flush=0.0005259
time=2025-12-13T03:14:11.655-05:00 level=WARN msg="giving up trying to ping database" deployment.id=dev host.name=localhost service.name="Single schema in search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=5 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:11.655-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name="Single schema in search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.655-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name="Single schema in search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.655-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name="Single schema in search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=5.7649685999999996 flush=0
time=2025-12-13T03:14:11.655-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name="Single schema in search_path" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=5.7649685999999996 flush=0
time=2025-12-13T03:14:11.667-05:00 level=WARN msg="giving up trying to ping database" deployment.id=dev host.name=localhost service.name="No search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=5 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:11.667-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name="No search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.667-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name="No search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.668-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name="No search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=5.7632027 flush=0.0004191
time=2025-12-13T03:14:11.668-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name="No search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=5.7632027 flush=0
time=2025-12-13T03:14:11.672-05:00 level=WARN msg="giving up trying to ping database" deployment.id=dev host.name=localhost service.name="Schema with whitespace" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=5 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:11.672-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name="Schema with whitespace" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.672-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name="Schema with whitespace" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.672-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name="Schema with whitespace" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=5.7629259 flush=0
time=2025-12-13T03:14:11.672-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name="Schema with whitespace" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=5.7629259 flush=0
time=2025-12-13T03:14:11.673-05:00 level=WARN msg="giving up trying to ping database" deployment.id=dev host.name=localhost service.name="Multiple schemas in search_path (comma-separated)" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=5 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:11.673-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name="Multiple schemas in search_path (comma-separated)" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.673-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name="Multiple schemas in search_path (comma-separated)" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.673-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name="Multiple schemas in search_path (comma-separated)" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=5.7608192 flush=0
time=2025-12-13T03:14:11.673-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name="Multiple schemas in search_path (comma-separated)" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=5.7608192 flush=0
time=2025-12-13T03:14:11.872-05:00 level=WARN msg="giving up trying to ping database" deployment.id=dev host.name=localhost service.name="Empty search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=5 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:11.872-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name="Empty search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.872-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name="Empty search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.872-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name="Empty search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=5.7649037 flush=0
time=2025-12-13T03:14:11.872-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name="Empty search_path parameter" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=5.7649037 flush=0
time=2025-12-13T03:14:11.991-05:00 level=WARN msg="giving up trying to ping database" deployment.id=dev host.name=localhost service.name="DevMode false with PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 attempts=5 containerMode=disabled dbType=pgx error="failed to ping database\nfailed to connect to `user=user database=testdb`:\n\t[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.\n\t127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it."
time=2025-12-13T03:14:11.991-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name="DevMode false with PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.991-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name="DevMode false with PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.991-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name="DevMode false with PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=5.7604403 flush=0
time=2025-12-13T03:14:11.991-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name="DevMode false with PostgreSQL URL" service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=5.7604403 flush=0
FAIL
coverage: 77.7% of statements
time=2025-12-13T03:14:11.996-05:00 level=DEBUG msg="shutting down SQL Provider" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.996-05:00 level=DEBUG msg="shutting down SQL Connection" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29
time=2025-12-13T03:14:11.996-05:00 level=DEBUG msg="telemetry providers force flushed" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=11.9665965 flush=0
time=2025-12-13T03:14:11.996-05:00 level=DEBUG msg="telemetry providers shut down" deployment.id=dev host.name=localhost service.name=sql_provider_test service.version=0.0.1 service.instance.id=019b16c6-1949-7dc8-8187-3c8ae53acc29 uptime=11.9665965 flush=0
FAIL	cryptoutil/internal/kms/server/repository/sqlrepository	12.554s
FAIL
