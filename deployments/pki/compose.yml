# PRODUCT-level deployment - PKI product (single service: ca)
# See: docs/ARCHITECTURE-COMPOSE-MULTIDEPLOY.md Section 4.2
#
# Usage: cd deployments/pki && docker compose up
#
# Currently pki product has one service (pki-ca), but may have more PKI services in the future.
# This compose file includes the pki-ca SERVICE compose file.

include:
  - path: ../pki-ca/compose.yml

# PRODUCT-level secrets (shared by all services in PKI product)
# See: docs/ARCHITECTURE-COMPOSE-MULTIDEPLOY.md Section 5.2 "Layered Pepper Strategy"
#
# Currently pki product has only ca service, but additional PKI services may be added.
# The PRODUCT pepper would then be shared by all services within the pki product.

secrets:
  pki-hash-pepper.secret:
    file: ./secrets/pki-hash-pepper.secret
