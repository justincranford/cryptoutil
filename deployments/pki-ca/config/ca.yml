# CA Server - Docker Configuration
# Override settings for containerized deployment.

# Server binding - 0.0.0.0 to accept connections from other containers.
bind-public-address: "0.0.0.0"
bind-public-port: 8093
bind-admin-address: "0.0.0.0"
bind-admin-port: 9093

# TLS configuration.
tls-enabled: true
# Self-signed certificate will be generated on startup if not provided.
tls-cert-file: ""
tls-key-file: ""

# CORS configuration - allow container and localhost access.
cors-origins:
  - "https://localhost:8093"
  - "https://127.0.0.1:8093"
  - "https://pki-ca:8093"

# mTLS configuration for client authentication.
mtls:
  enabled: false
  client-ca-file: ""

# OTLP telemetry - connects to collector sidecar.
otlp-enabled: true
otlp-endpoint: "opentelemetry-collector-contrib:4317"
otlp-service: "pki-ca"
otlp-hostname: "pki-ca"

# Logging.
log-level: "DEBUG"

# Certificate storage.
storage:
  type: "memory"
  # For SQLite: dsn: "file:ca.db?cache=shared&mode=rwc"

# CA configuration.
ca:
  # Root CA certificate (generated on startup if not provided).
  cert-file: ""
  key-file: ""
