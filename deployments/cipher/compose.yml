# PRODUCT-level deployment - Cipher product (single service: im)
# See: docs/ARCHITECTURE-COMPOSE-MULTIDEPLOY.md Section 4.2
#
# Usage: cd deployments/cipher && docker compose up
#
# Currently cipher product has one service (cipher-im), but may have more Cipher services in the future.
# This compose file includes the cipher-im SERVICE compose file.

include:
  - path: ../cipher-im/compose.yml

# PRODUCT-level secrets (shared by all services in Cipher product)
# See: docs/ARCHITECTURE-COMPOSE-MULTIDEPLOY.md Section 5.2 "Layered Pepper Strategy"
#
# Currently cipher product has only im service, but additional Cipher services may be added.
# The PRODUCT pepper would then be shared by all services within the cipher product.

secrets:
  cipher-hash_pepper.secret:
    file: ./secrets/cipher-hash_pepper.secret
