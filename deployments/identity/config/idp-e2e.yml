# IdP Server E2E Test Configuration

idp:
  name: idp-e2e
  bind_address: 0.0.0.0
  port: 8081
  tls_enabled: false
  read_timeout: 30s
  write_timeout: 30s
  idle_timeout: 120s
  admin_enabled: true
  admin_bind_address: 0.0.0.0
  admin_port: 9090

database:
  type: postgres
  # DSN for E2E testing - points to identity-postgres-e2e service
  dsn: "postgres://cryptoutil:cryptoutil_test_password@identity-postgres-e2e:5432/cryptoutil_test?sslmode=disable"
  max_open_conns: 10
  max_idle_conns: 5
  conn_max_lifetime: 60m
  conn_max_idle_time: 10m
  auto_migrate: true

auth:
  authz_url: "http://identity-authz-e2e:8080"

telemetry:
  enabled: true
  otlp_endpoint: "opentelemetry-collector-contrib:4317"
  service_name: idp-e2e

logging:
  level: DEBUG
