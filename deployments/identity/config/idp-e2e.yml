# IdP Server E2E Test Configuration

# Bind configuration (FLAT structure - viper expects root-level keys)
bind-public-address: 0.0.0.0
bind-public-port: 18100
bind-private-address: 0.0.0.0
bind-private-port: 9090

database-url: "sqlite://file::memory:?cache=shared"

# Session configuration
service-session-jws-algorithm: "RS256"
browser-session-jws-algorithm: "RS256"

tokens:
  access_token_lifetime: 3600s
  access_token_format: jws
  id_token_lifetime: 3600s
  id_token_format: jws
  refresh_token_lifetime: 86400s
  refresh_token_format: uuid
  issuer: https://localhost:18100
  signing_algorithm: RS256
  code_lifetime: 600s

observability:
  enabled: true
  otlp_endpoint: "opentelemetry-collector-contrib:4317"
  service_name: identity-idp-e2e

# Federation with authz server
federation:
  authz_url: "http://identity-authz-e2e:18000"

logging:
  level: debug
