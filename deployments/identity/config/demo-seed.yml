# Identity Demo Seed Data Configuration
#
# This file defines demo users, clients, and scopes that are
# automatically seeded when Identity starts in demo mode.
#
# Usage: --demo flag enables auto-seeding on startup
#
# NOTE: The bootstrap package (internal/identity/bootstrap/) already
# creates demo-client and demo-user. This config extends with additional
# demo data for comprehensive testing.
#
# WARNING: Demo credentials are for demonstration only.
# NEVER use these in production environments.

# Demo users for authentication testing.
users:
  # Primary demo user (created by bootstrap).
  - sub: "demo-user"
    name: "Demo User"
    email: "demo@example.com"
    password: "demo-password"  # pragma: allowlist secret
    email_verified: true
    roles:
      - "user"
    description: "Primary demo user for testing"

  # Administrator user.
  - sub: "admin-user"
    name: "Admin User"
    email: "admin@example.com"
    password: "admin-password"  # pragma: allowlist secret
    email_verified: true
    roles:
      - "admin"
      - "user"
    description: "Demo administrator user"

  # Service account user.
  - sub: "service-user"
    name: "Service Account"
    email: "service@example.com"
    password: "service-password"  # pragma: allowlist secret
    email_verified: true
    roles:
      - "service"
    description: "Demo service account"

# Demo OAuth 2.1 clients.
clients:
  # Confidential client (created by bootstrap).
  - client_id: "demo-client"
    client_secret: "demo-secret"  # pragma: allowlist secret
    client_type: "confidential"
    name: "Demo Client"
    redirect_uris:
      - "http://localhost:3000/callback"
      - "https://localhost:3000/callback"
    allowed_grant_types:
      - "client_credentials"
      - "authorization_code"
      - "refresh_token"
    allowed_scopes:
      - "openid"
      - "profile"
      - "email"
      - "read"
      - "write"
    require_pkce: true
    pkce_challenge_method: "S256"
    description: "Bootstrap client for testing OAuth flows"

  # Public client (SPA) with PKCE required.
  - client_id: "demo-spa-client"
    client_type: "public"
    name: "Demo SPA Client"
    redirect_uris:
      - "http://localhost:5173/callback"
      - "https://localhost:5173/callback"
    allowed_grant_types:
      - "authorization_code"
      - "refresh_token"
    allowed_scopes:
      - "openid"
      - "profile"
      - "email"
    require_pkce: true
    pkce_challenge_method: "S256"
    description: "Demo public client for SPA testing (PKCE required)"

  # Service-to-service client (client credentials only).
  - client_id: "demo-service-client"
    client_secret: "service-secret"  # pragma: allowlist secret
    client_type: "confidential"
    name: "Demo Service Client"
    redirect_uris: []
    allowed_grant_types:
      - "client_credentials"
    allowed_scopes:
      - "kms:encrypt"
      - "kms:decrypt"
      - "kms:sign"
      - "kms:verify"
    require_pkce: false
    description: "Demo service client for machine-to-machine auth"

# Demo scopes available for authorization.
scopes:
  # Standard OIDC scopes.
  - name: "openid"
    description: "OpenID Connect authentication"
    default: true

  - name: "profile"
    description: "User profile information"
    default: true

  - name: "email"
    description: "User email address"
    default: true

  # Application-specific scopes.
  - name: "read"
    description: "Read access to resources"
    default: false

  - name: "write"
    description: "Write access to resources"
    default: false

  # KMS integration scopes.
  - name: "kms:encrypt"
    description: "Permission to encrypt data using KMS"
    default: false

  - name: "kms:decrypt"
    description: "Permission to decrypt data using KMS"
    default: false

  - name: "kms:sign"
    description: "Permission to sign data using KMS"
    default: false

  - name: "kms:verify"
    description: "Permission to verify signatures using KMS"
    default: false
