# PRODUCT-level deployment - SM product (single service: kms)
# See: docs/ARCHITECTURE-COMPOSE-MULTIDEPLOY.md Section 4.2
#
# Usage: cd deployments/sm && docker compose up
#
# For single-service products, PRODUCT-level is an alias to SERVICE-level.
# This compose file includes the sm-kms SERVICE compose file.

include:
  - path: ../sm-kms/compose.yml

# PRODUCT-level secrets (alias to SERVICE-level for single-service products)
# See: docs/ARCHITECTURE-COMPOSE-MULTIDEPLOY.md Section 5.2 "Layered Pepper Strategy"
#
# For single-service products like sm (only has kms service), the PRODUCT
# pepper is an alias/duplicate of the SERVICE pepper for consistency.

secrets:
  sm-hash_pepper.secret:
    file: ./secrets/sm-hash_pepper.secret
